var _excluded=["message","explanation"];var _Symbol$metadata,_a$1$litPropertyMetad,_a$1$reactiveElementV,_t$1$litHtmlVersions,_globalThis$litElemen,_globalThis$litElemen2,_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34,_templateObject35,_templateObject36,_templateObject37,_templateObject38,_templateObject39,_templateObject40,_templateObject41,_templateObject42,_templateObject43,_templateObject44,_templateObject45,_templateObject46,_templateObject47,_templateObject48,_templateObject49,_templateObject50,_templateObject51,_templateObject52,_templateObject53,_templateObject54,_templateObject55,_templateObject56,_templateObject57,_templateObject58,_templateObject59,_templateObject60,_templateObject61;function _toArray(r){return _arrayWithHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableRest();}var _marked=/*#__PURE__*/_regeneratorRuntime().mark(toFailures);function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);}return i;}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n];}return t;}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}));}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}function _superPropGet(t,o,e,r){var p=_get(_getPrototypeOf(1&r?t.prototype:t),o,e);return 2&r&&"function"==typeof p?function(t){return p.apply(e,t);}:p;}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=_superPropBase(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value;}},_get.apply(null,arguments);}function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=_getPrototypeOf(t)););return t;}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r);}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r);}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1;}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r;}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return;}finally{if(o)throw n;}}return a;}}function _arrayWithHoles(r){if(Array.isArray(r))return r;}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return e;};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e];}try{define({},"");}catch(t){define=function define(t,e,r){return t[e]=r;};}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a;}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)};}catch(t){return{type:"throw",arg:t};}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this;});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t);});});}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a);},function(t){invoke("throw",t,i,a);}):e.resolve(h).then(function(t){u.value=t,i(u);},function(t){return invoke("throw",t,i,a);});}a(c.arg);}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r);});}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}});}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0};}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u;}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg);}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done};}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg);}};}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y);}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0);}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next;};return i.next=i;}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name));},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t;},e.awrap=function(t){return{__await:t};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this;}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next();});},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this;}),define(g,"toString",function(){return"[object Generator]";}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next;}return next.done=!0,next;};},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t);},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval;},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o;}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc);}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a);},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y;},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y;}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r);}return o;}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y;}},e;}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value;}catch(n){return void e(n);}i.done?t(u):Promise.resolve(u).then(r,o);}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n);}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n);}_next(void 0);});};}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t);}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e);}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map():void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper);}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor);}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t);},_wrapNativeSuper(t);}function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o))();return r&&_setPrototypeOf(p,r.prototype),p;}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]");}catch(n){return"function"==typeof t;}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t;},_setPrototypeOf(t,e);}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t);},_getPrototypeOf(t);}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n6=0,F=function F(){};return{s:F,n:function n(){return _n6>=r.length?{done:!0}:{done:!1,value:r[_n6++]};},e:function e(r){throw r;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=t.call(r);},n:function n(){var r=t.next();return a=r.done,r;},e:function e(r){u=!0,o=r;},f:function f(){try{a||null==t["return"]||t["return"]();}finally{if(u)throw o;}}};}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0;}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n;}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o);}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+"";}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t);}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}var version="0.0.1";var hub$1={on:"An",off:"Aus",card:{light:{brightness:"Helligkeit",color_temp:"Farbtemperatur"},cover:{position:"Position",tilt_position:"Lamellen"}}};var de={hub:hub$1};var de$1=/*#__PURE__*/Object.freeze({__proto__:null,"default":de,hub:hub$1});var hub={on:"On",off:"Off",card:{light:{brightness:"Brightness",color_temp:"Color Temperature"},cover:{position:"Position",tilt_position:"Tilt Position"}}};var en={hub:hub};var en$1=/*#__PURE__*/Object.freeze({__proto__:null,"default":en,hub:hub});var languages={de:de$1,en:en$1};var DEFAULT_LANG="en";function getTranslatedString(key,lang){try{return key.split(".").reduce(function(o,i){return o[i];},languages[lang]);}catch(_){return undefined;}}function setupCustomlocalize(hass){return function(key){var _a;var lang=(_a=hass===null||hass===void 0?void 0:hass.locale.language)!==null&&_a!==void 0?_a:DEFAULT_LANG;var translated=getTranslatedString(key,lang);if(!translated)translated=getTranslatedString(key,DEFAULT_LANG);return translated!==null&&translated!==void 0?translated:key;};}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** *//* global Reflect, Promise */function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2=globalThis,e$4=t$2.ShadowRoot&&(void 0===t$2.ShadyCSS||t$2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$1=Symbol(),o$3=new WeakMap();var n$3=/*#__PURE__*/function(){function n(t,e,o){_classCallCheck(this,n);if(this._$cssResult$=true,o!==s$1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e;}return _createClass(n,[{key:"styleSheet",get:function get(){var t=this.o;var s=this.t;if(e$4&&void 0===t){var _e2=void 0!==s&&1===s.length;_e2&&(t=o$3.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet()).replaceSync(this.cssText),_e2&&o$3.set(s,t));}return t;}},{key:"toString",value:function toString(){return this.cssText;}}]);}();var r$5=function r$5(t){return new n$3("string"==typeof t?t:t+"",void 0,s$1);},i$3=function i$3(t){for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}var o=1===t.length?t[0]:e.reduce(function(e,s,o){return e+function(t){if(true===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");}(s)+t[o+1];},t[0]);return new n$3(o,t,s$1);},S$1=function S$1(s,o){if(e$4)s.adoptedStyleSheets=o.map(function(t){return t instanceof CSSStyleSheet?t:t.styleSheet;});else{var _iterator=_createForOfIteratorHelper(o),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _e3=_step.value;var _o2=document.createElement("style"),_n2=t$2.litNonce;void 0!==_n2&&_o2.setAttribute("nonce",_n2),_o2.textContent=_e3.cssText,s.appendChild(_o2);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},c$2=e$4?function(t){return t;}:function(t){return t instanceof CSSStyleSheet?function(t){var e="";var _iterator2=_createForOfIteratorHelper(t.cssRules),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s=_step2.value;e+=_s.cssText;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return r$5(e);}(t):t;};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var i$2=Object.is,e$3=Object.defineProperty,r$4=Object.getOwnPropertyDescriptor,h$1=Object.getOwnPropertyNames,o$2=Object.getOwnPropertySymbols,n$2=Object.getPrototypeOf,a$1=globalThis,c$1=a$1.trustedTypes,l$1=c$1?c$1.emptyScript:"",p$1=a$1.reactiveElementPolyfillSupport,d$1=function d$1(t,s){return t;},u$1={toAttribute:function toAttribute(t,s){switch(s){case Boolean:t=t?l$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t);}return t;},fromAttribute:function fromAttribute(t,s){var i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t);}catch(t){i=null;}}return i;}},f$1=function f$1(t,s){return!i$2(t,s);},y$1={attribute:true,type:String,converter:u$1,reflect:false,hasChanged:f$1};(_Symbol$metadata=Symbol.metadata)!==null&&_Symbol$metadata!==void 0?_Symbol$metadata:Symbol.metadata=Symbol("metadata"),(_a$1$litPropertyMetad=a$1.litPropertyMetadata)!==null&&_a$1$litPropertyMetad!==void 0?_a$1$litPropertyMetad:a$1.litPropertyMetadata=new WeakMap();var b=/*#__PURE__*/function(_HTMLElement){function b(){var _this;_classCallCheck(this,b);_this=_callSuper(this,b),_this._$Ep=void 0,_this.isUpdatePending=false,_this.hasUpdated=false,_this._$Em=null,_this._$Ev();return _this;}_inherits(b,_HTMLElement);return _createClass(b,[{key:"_$Ev",value:function _$Ev(){var _this2=this,_this$constructor$l;this._$ES=new Promise(function(t){return _this2.enableUpdating=t;}),this._$AL=new Map(),this._$E_(),this.requestUpdate(),(_this$constructor$l=this.constructor.l)===null||_this$constructor$l===void 0?void 0:_this$constructor$l.forEach(function(t){return t(_this2);});}},{key:"addController",value:function addController(t){var _this$_$EO,_t$hostConnected;((_this$_$EO=this._$EO)!==null&&_this$_$EO!==void 0?_this$_$EO:this._$EO=new Set()).add(t),void 0!==this.renderRoot&&this.isConnected&&((_t$hostConnected=t.hostConnected)===null||_t$hostConnected===void 0?void 0:_t$hostConnected.call(t));}},{key:"removeController",value:function removeController(t){var _this$_$EO2;(_this$_$EO2=this._$EO)===null||_this$_$EO2===void 0||_this$_$EO2["delete"](t);}},{key:"_$E_",value:function _$E_(){var t=new Map(),s=this.constructor.elementProperties;var _iterator3=_createForOfIteratorHelper(s.keys()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _i=_step3.value;this.hasOwnProperty(_i)&&(t.set(_i,this[_i]),delete this[_i]);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}t.size>0&&(this._$Ep=t);}},{key:"createRenderRoot",value:function createRenderRoot(){var _this$shadowRoot;var t=(_this$shadowRoot=this.shadowRoot)!==null&&_this$shadowRoot!==void 0?_this$shadowRoot:this.attachShadow(this.constructor.shadowRootOptions);return S$1(t,this.constructor.elementStyles),t;}},{key:"connectedCallback",value:function connectedCallback(){var _this$renderRoot,_this$_$EO3;(_this$renderRoot=this.renderRoot)!==null&&_this$renderRoot!==void 0?_this$renderRoot:this.renderRoot=this.createRenderRoot(),this.enableUpdating(true),(_this$_$EO3=this._$EO)===null||_this$_$EO3===void 0?void 0:_this$_$EO3.forEach(function(t){var _t$hostConnected2;return(_t$hostConnected2=t.hostConnected)===null||_t$hostConnected2===void 0?void 0:_t$hostConnected2.call(t);});}},{key:"enableUpdating",value:function enableUpdating(t){}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _this$_$EO4;(_this$_$EO4=this._$EO)===null||_this$_$EO4===void 0||_this$_$EO4.forEach(function(t){var _t$hostDisconnected;return(_t$hostDisconnected=t.hostDisconnected)===null||_t$hostDisconnected===void 0?void 0:_t$hostDisconnected.call(t);});}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,s,i){this._$AK(t,i);}},{key:"_$EC",value:function _$EC(t,s){var i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&true===i.reflect){var _i$converter;var _r=(void 0!==((_i$converter=i.converter)===null||_i$converter===void 0?void 0:_i$converter.toAttribute)?i.converter:u$1).toAttribute(s,i.type);this._$Em=t,null==_r?this.removeAttribute(e):this.setAttribute(e,_r),this._$Em=null;}}},{key:"_$AK",value:function _$AK(t,s){var i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){var _t2$converter;var _t2=i.getPropertyOptions(e),_r2="function"==typeof _t2.converter?{fromAttribute:_t2.converter}:void 0!==((_t2$converter=_t2.converter)===null||_t2$converter===void 0?void 0:_t2$converter.fromAttribute)?_t2.converter:u$1;this._$Em=e,this[e]=_r2.fromAttribute(s,_t2.type),this._$Em=null;}}},{key:"requestUpdate",value:function requestUpdate(t,s,i){if(void 0!==t){var _i$hasChanged;if(i!==null&&i!==void 0?i:i=this.constructor.getPropertyOptions(t),!((_i$hasChanged=i.hasChanged)!==null&&_i$hasChanged!==void 0?_i$hasChanged:f$1)(this[t],s))return;this.P(t,s,i);}false===this.isUpdatePending&&(this._$ES=this._$ET());}},{key:"P",value:function P(t,s,i){var _this$_$Ej;this._$AL.has(t)||this._$AL.set(t,s),true===i.reflect&&this._$Em!==t&&((_this$_$Ej=this._$Ej)!==null&&_this$_$Ej!==void 0?_this$_$Ej:this._$Ej=new Set()).add(t);}},{key:"_$ET",value:function(){var _$ET2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var t;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this.isUpdatePending=true;_context.prev=1;_context.next=4;return this._$ES;case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);Promise.reject(_context.t0);case 9:t=this.scheduleUpdate();_context.t1=null!=t;if(!_context.t1){_context.next=14;break;}_context.next=14;return t;case 14:return _context.abrupt("return",!this.isUpdatePending);case 15:case"end":return _context.stop();}},_callee,this,[[1,6]]);}));function _$ET(){return _$ET2.apply(this,arguments);}return _$ET;}()},{key:"scheduleUpdate",value:function scheduleUpdate(){return this.performUpdate();}},{key:"performUpdate",value:function performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){var _this$renderRoot2;if((_this$renderRoot2=this.renderRoot)!==null&&_this$renderRoot2!==void 0?_this$renderRoot2:this.renderRoot=this.createRenderRoot(),this._$Ep){var _iterator4=_createForOfIteratorHelper(this._$Ep),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=_slicedToArray(_step4.value,2),_t3=_step4$value[0],_s2=_step4$value[1];this[_t3]=_s2;}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}this._$Ep=void 0;}var _t4=this.constructor.elementProperties;if(_t4.size>0){var _iterator5=_createForOfIteratorHelper(_t4),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=_slicedToArray(_step5.value,2),_s3=_step5$value[0],_i2=_step5$value[1];true!==_i2.wrapped||this._$AL.has(_s3)||void 0===this[_s3]||this.P(_s3,this[_s3],_i2);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}var t=false;var s=this._$AL;try{var _this$_$EO5;t=this.shouldUpdate(s),t?(this.willUpdate(s),(_this$_$EO5=this._$EO)!==null&&_this$_$EO5!==void 0&&_this$_$EO5.forEach(function(t){var _t$hostUpdate;return(_t$hostUpdate=t.hostUpdate)===null||_t$hostUpdate===void 0?void 0:_t$hostUpdate.call(t);}),this.update(s)):this._$EU();}catch(s){throw t=false,this._$EU(),s;}t&&this._$AE(s);}},{key:"willUpdate",value:function willUpdate(t){}},{key:"_$AE",value:function _$AE(t){var _this$_$EO6;(_this$_$EO6=this._$EO)!==null&&_this$_$EO6!==void 0&&_this$_$EO6.forEach(function(t){var _t$hostUpdated;return(_t$hostUpdated=t.hostUpdated)===null||_t$hostUpdated===void 0?void 0:_t$hostUpdated.call(t);}),this.hasUpdated||(this.hasUpdated=true,this.firstUpdated(t)),this.updated(t);}},{key:"_$EU",value:function _$EU(){this._$AL=new Map(),this.isUpdatePending=false;}},{key:"updateComplete",get:function get(){return this.getUpdateComplete();}},{key:"getUpdateComplete",value:function getUpdateComplete(){return this._$ES;}},{key:"shouldUpdate",value:function shouldUpdate(t){return true;}},{key:"update",value:function update(t){var _this3=this;this._$Ej&&(this._$Ej=this._$Ej.forEach(function(t){return _this3._$EC(t,_this3[t]);})),this._$EU();}},{key:"updated",value:function updated(t){}},{key:"firstUpdated",value:function firstUpdated(t){}}],[{key:"addInitializer",value:function addInitializer(t){var _this$l;this._$Ei(),((_this$l=this.l)!==null&&_this$l!==void 0?_this$l:this.l=[]).push(t);}},{key:"observedAttributes",get:function get(){return this.finalize(),this._$Eh&&_toConsumableArray(this._$Eh.keys());}},{key:"createProperty",value:function createProperty(t){var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:y$1;if(s.state&&(s.attribute=false),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){var _i3=Symbol(),_r3=this.getPropertyDescriptor(t,_i3,s);void 0!==_r3&&e$3(this.prototype,t,_r3);}}},{key:"getPropertyDescriptor",value:function getPropertyDescriptor(t,s,i){var _r$;var _ref=(_r$=r$4(this.prototype,t))!==null&&_r$!==void 0?_r$:{get:function get(){return this[s];},set:function set(t){this[s]=t;}},e=_ref.get,h=_ref.set;return{get:function get(){return e===null||e===void 0?void 0:e.call(this);},set:function set(s){var r=e===null||e===void 0?void 0:e.call(this);h.call(this,s),this.requestUpdate(t,r,i);},configurable:true,enumerable:true};}},{key:"getPropertyOptions",value:function getPropertyOptions(t){var _this$elementProperti;return(_this$elementProperti=this.elementProperties.get(t))!==null&&_this$elementProperti!==void 0?_this$elementProperti:y$1;}},{key:"_$Ei",value:function _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;var t=n$2(this);t.finalize(),void 0!==t.l&&(this.l=_toConsumableArray(t.l)),this.elementProperties=new Map(t.elementProperties);}},{key:"finalize",value:function finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=true,this._$Ei(),this.hasOwnProperty(d$1("properties"))){var _t5=this.properties,_s4=[].concat(_toConsumableArray(h$1(_t5)),_toConsumableArray(o$2(_t5)));var _iterator6=_createForOfIteratorHelper(_s4),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _i4=_step6.value;this.createProperty(_i4,_t5[_i4]);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}var t=this[Symbol.metadata];if(null!==t){var _s5=litPropertyMetadata.get(t);if(void 0!==_s5){var _iterator7=_createForOfIteratorHelper(_s5),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _step7$value=_slicedToArray(_step7.value,2),_t6=_step7$value[0],_i5=_step7$value[1];this.elementProperties.set(_t6,_i5);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}this._$Eh=new Map();var _iterator8=_createForOfIteratorHelper(this.elementProperties),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _step8$value=_slicedToArray(_step8.value,2),_t7=_step8$value[0],_s6=_step8$value[1];var _i6=this._$Eu(_t7,_s6);void 0!==_i6&&this._$Eh.set(_i6,_t7);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}this.elementStyles=this.finalizeStyles(this.styles);}},{key:"finalizeStyles",value:function finalizeStyles(s){var i=[];if(Array.isArray(s)){var _e4=new Set(s.flat(1/0).reverse());var _iterator9=_createForOfIteratorHelper(_e4),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _s7=_step9.value;i.unshift(c$2(_s7));}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}else void 0!==s&&i.push(c$2(s));return i;}},{key:"_$Eu",value:function _$Eu(t,s){var i=s.attribute;return false===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0;}}]);}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[d$1("elementProperties")]=new Map(),b[d$1("finalized")]=new Map(),p$1!==null&&p$1!==void 0&&p$1({ReactiveElement:b}),((_a$1$reactiveElementV=a$1.reactiveElementVersions)!==null&&_a$1$reactiveElementV!==void 0?_a$1$reactiveElementV:a$1.reactiveElementVersions=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$1=globalThis,i$1=t$1.trustedTypes,s=i$1?i$1.createPolicy("lit-html",{createHTML:function createHTML(t){return t;}}):void 0,e$2="$lit$",h="lit$".concat(Math.random().toFixed(9).slice(2),"$"),o$1="?"+h,n$1="<".concat(o$1,">"),r$3=document,l=function l(){return r$3.createComment("");},c=function c(t){return null===t||"object"!=_typeof(t)&&"function"!=typeof t;},a=Array.isArray,u=function u(t){return a(t)||"function"==typeof(t===null||t===void 0?void 0:t[Symbol.iterator]);},d="[ \t\n\f\r]",f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(">|".concat(d,"(?:([^\\s\"'>=/]+)(").concat(d,"*=").concat(d,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),p=/'/g,g=/"/g,$=/^(?:script|style|textarea|title)$/i,y=function y(t){return function(i){for(var _len2=arguments.length,s=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){s[_key2-1]=arguments[_key2];}return{_$litType$:t,strings:i,values:s};};},x=y(1),T=Symbol["for"]("lit-noChange"),E=Symbol["for"]("lit-nothing"),A=new WeakMap(),C=r$3.createTreeWalker(r$3,129);function P(t,i){if(!a(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s?s.createHTML(i):i;}var V=function V(t,i){var s=t.length-1,o=[];var r,l=2===i?"<svg>":3===i?"<math>":"",c=f;for(var _i7=0;_i7<s;_i7++){var _s8=t[_i7];var _a2=void 0,_u=void 0,_d2=-1,_y=0;for(;_y<_s8.length&&(c.lastIndex=_y,_u=c.exec(_s8),null!==_u);)_y=c.lastIndex,c===f?"!--"===_u[1]?c=v:void 0!==_u[1]?c=_:void 0!==_u[2]?($.test(_u[2])&&(r=RegExp("</"+_u[2],"g")),c=m):void 0!==_u[3]&&(c=m):c===m?">"===_u[0]?(c=r!==null&&r!==void 0?r:f,_d2=-1):void 0===_u[1]?_d2=-2:(_d2=c.lastIndex-_u[2].length,_a2=_u[1],c=void 0===_u[3]?m:'"'===_u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);var _x=c===m&&t[_i7+1].startsWith("/>")?" ":"";l+=c===f?_s8+n$1:_d2>=0?(o.push(_a2),_s8.slice(0,_d2)+e$2+_s8.slice(_d2)+h+_x):_s8+h+(-2===_d2?_i7:_x);}return[P(t,l+(t[s]||"<?>")+(2===i?"</svg>":3===i?"</math>":"")),o];};var N=/*#__PURE__*/function(){function N(_ref2,n){var t=_ref2.strings,s=_ref2._$litType$;_classCallCheck(this,N);var r;this.parts=[];var c=0,a=0;var u=t.length-1,d=this.parts,_V=V(t,s),_V2=_slicedToArray(_V,2),f=_V2[0],v=_V2[1];if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){var _t8=this.el.content.firstChild;_t8.replaceWith.apply(_t8,_toConsumableArray(_t8.childNodes));}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes()){var _iterator10=_createForOfIteratorHelper(r.getAttributeNames()),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t9=_step10.value;if(_t9.endsWith(e$2)){var _i8=v[a++],_s9=r.getAttribute(_t9).split(h),_e5=/([.?@])?(.*)/.exec(_i8);d.push({type:1,index:c,name:_e5[2],strings:_s9,ctor:"."===_e5[1]?H:"?"===_e5[1]?I:"@"===_e5[1]?L:k}),r.removeAttribute(_t9);}else _t9.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(_t9));}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}}if($.test(r.tagName)){var _t10=r.textContent.split(h),_s10=_t10.length-1;if(_s10>0){r.textContent=i$1?i$1.emptyScript:"";for(var _i9=0;_i9<_s10;_i9++)r.append(_t10[_i9],l()),C.nextNode(),d.push({type:2,index:++c});r.append(_t10[_s10],l());}}}else if(8===r.nodeType)if(r.data===o$1)d.push({type:2,index:c});else{var _t11=-1;for(;-1!==(_t11=r.data.indexOf(h,_t11+1));)d.push({type:7,index:c}),_t11+=h.length-1;}c++;}}return _createClass(N,null,[{key:"createElement",value:function createElement(t,i){var s=r$3.createElement("template");return s.innerHTML=t,s;}}]);}();function S(t,i){var _s$_$Co,_h2,_h3,_h3$_$AO,_s$_$Co2;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;var e=arguments.length>3?arguments[3]:undefined;if(i===T)return i;var h=void 0!==e?(_s$_$Co=s._$Co)===null||_s$_$Co===void 0?void 0:_s$_$Co[e]:s._$Cl;var o=c(i)?void 0:i._$litDirective$;return((_h2=h)===null||_h2===void 0?void 0:_h2.constructor)!==o&&((_h3=h)!==null&&_h3!==void 0&&(_h3$_$AO=_h3._$AO)!==null&&_h3$_$AO!==void 0&&_h3$_$AO.call(_h3,false),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?((_s$_$Co2=s._$Co)!==null&&_s$_$Co2!==void 0?_s$_$Co2:s._$Co=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i;}var M=/*#__PURE__*/function(){function M(t,i){_classCallCheck(this,M);this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i;}return _createClass(M,[{key:"parentNode",get:function get(){return this._$AM.parentNode;}},{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"u",value:function u(t){var _t$creationScope;var _this$_$AD=this._$AD,i=_this$_$AD.el.content,s=_this$_$AD.parts,e=((_t$creationScope=t===null||t===void 0?void 0:t.creationScope)!==null&&_t$creationScope!==void 0?_t$creationScope:r$3).importNode(i,true);C.currentNode=e;var h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){var _l2;if(o===l.index){var _i10=void 0;2===l.type?_i10=new R(h,h.nextSibling,this,t):1===l.type?_i10=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(_i10=new z(h,this,t)),this._$AV.push(_i10),l=s[++n];}o!==((_l2=l)===null||_l2===void 0?void 0:_l2.index)&&(h=C.nextNode(),o++);}return C.currentNode=r$3,e;}},{key:"p",value:function p(t){var i=0;var _iterator11=_createForOfIteratorHelper(this._$AV),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _s11=_step11.value;void 0!==_s11&&(void 0!==_s11.strings?(_s11._$AI(t,_s11,i),i+=_s11.strings.length-2):_s11._$AI(t[i])),i++;}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}}]);}();var R=/*#__PURE__*/function(){function R(t,i,s,e){var _e$isConnected;_classCallCheck(this,R);this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=(_e$isConnected=e===null||e===void 0?void 0:e.isConnected)!==null&&_e$isConnected!==void 0?_e$isConnected:true;}return _createClass(R,[{key:"_$AU",get:function get(){var _this$_$AM$_$AU,_this$_$AM;return(_this$_$AM$_$AU=(_this$_$AM=this._$AM)===null||_this$_$AM===void 0?void 0:_this$_$AM._$AU)!==null&&_this$_$AM$_$AU!==void 0?_this$_$AM$_$AU:this._$Cv;}},{key:"parentNode",get:function get(){var _t12;var t=this._$AA.parentNode;var i=this._$AM;return void 0!==i&&11===((_t12=t)===null||_t12===void 0?void 0:_t12.nodeType)&&(t=i.parentNode),t;}},{key:"startNode",get:function get(){return this._$AA;}},{key:"endNode",get:function get(){return this._$AB;}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;t=S(this,t,i),c(t)?t===E||null==t||""===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t);}},{key:"O",value:function O(t){return this._$AA.parentNode.insertBefore(t,this._$AB);}},{key:"T",value:function T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t));}},{key:"_",value:function _(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$3.createTextNode(t)),this._$AH=t;}},{key:"$",value:function $(t){var _this$_$AH;var i=t.values,s=t._$litType$,e="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(((_this$_$AH=this._$AH)===null||_this$_$AH===void 0?void 0:_this$_$AH._$AD)===e)this._$AH.p(i);else{var _t13=new M(e,this),_s12=_t13.u(this.options);_t13.p(i),this.T(_s12),this._$AH=_t13;}}},{key:"_$AC",value:function _$AC(t){var i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i;}},{key:"k",value:function k(t){a(this._$AH)||(this._$AH=[],this._$AR());var i=this._$AH;var s,e=0;var _iterator12=_createForOfIteratorHelper(t),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _h4=_step12.value;e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(_h4),e++;}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e);}},{key:"_$AR",value:function _$AR(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._$AA.nextSibling;var i=arguments.length>1?arguments[1]:undefined;for((_this$_$AP=this._$AP)===null||_this$_$AP===void 0?void 0:_this$_$AP.call(this,false,true,i);t&&t!==this._$AB;){var _this$_$AP;var _i11=t.nextSibling;t.remove(),t=_i11;}}},{key:"setConnected",value:function setConnected(t){var _this$_$AP2;void 0===this._$AM&&(this._$Cv=t,(_this$_$AP2=this._$AP)===null||_this$_$AP2===void 0?void 0:_this$_$AP2.call(this,t));}}]);}();var k=/*#__PURE__*/function(){function k(t,i,s,e,h){_classCallCheck(this,k);this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String()),this.strings=s):this._$AH=E;}return _createClass(k,[{key:"tagName",get:function get(){return this.element.tagName;}},{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"_$AI",value:function _$AI(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;var s=arguments.length>2?arguments[2]:undefined;var e=arguments.length>3?arguments[3]:undefined;var h=this.strings;var o=false;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{var _e6=t;var _n3,_r4;for(t=h[0],_n3=0;_n3<h.length-1;_n3++)_r4=S(this,_e6[s+_n3],i,_n3),_r4===T&&(_r4=this._$AH[_n3]),o||(o=!c(_r4)||_r4!==this._$AH[_n3]),_r4===E?t=E:t!==E&&(t+=(_r4!==null&&_r4!==void 0?_r4:"")+h[_n3+1]),this._$AH[_n3]=_r4;}o&&!e&&this.j(t);}},{key:"j",value:function j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!==null&&t!==void 0?t:"");}}]);}();var H=/*#__PURE__*/function(_k2){function H(){var _this4;_classCallCheck(this,H);_this4=_callSuper(this,H,arguments),_this4.type=3;return _this4;}_inherits(H,_k2);return _createClass(H,[{key:"j",value:function j(t){this.element[this.name]=t===E?void 0:t;}}]);}(k);var I=/*#__PURE__*/function(_k3){function I(){var _this5;_classCallCheck(this,I);_this5=_callSuper(this,I,arguments),_this5.type=4;return _this5;}_inherits(I,_k3);return _createClass(I,[{key:"j",value:function j(t){this.element.toggleAttribute(this.name,!!t&&t!==E);}}]);}(k);var L=/*#__PURE__*/function(_k4){function L(t,i,s,e,h){var _this6;_classCallCheck(this,L);_this6=_callSuper(this,L,[t,i,s,e,h]),_this6.type=5;return _this6;}_inherits(L,_k4);return _createClass(L,[{key:"_$AI",value:function _$AI(t){var _S;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;if((t=(_S=S(this,t,i,0))!==null&&_S!==void 0?_S:E)===T)return;var s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t;}},{key:"handleEvent",value:function handleEvent(t){var _this$options$host,_this$options;"function"==typeof this._$AH?this._$AH.call((_this$options$host=(_this$options=this.options)===null||_this$options===void 0?void 0:_this$options.host)!==null&&_this$options$host!==void 0?_this$options$host:this.element,t):this._$AH.handleEvent(t);}}]);}(k);var z=/*#__PURE__*/function(){function z(t,i,s){_classCallCheck(this,z);this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s;}return _createClass(z,[{key:"_$AU",get:function get(){return this._$AM._$AU;}},{key:"_$AI",value:function _$AI(t){S(this,t);}}]);}();var j=t$1.litHtmlPolyfillSupport;j!==null&&j!==void 0&&j(N,R),((_t$1$litHtmlVersions=t$1.litHtmlVersions)!==null&&_t$1$litHtmlVersions!==void 0?_t$1$litHtmlVersions:t$1.litHtmlVersions=[]).push("3.2.1");var B=function B(t,i,s){var _s$renderBefore;var e=(_s$renderBefore=s===null||s===void 0?void 0:s.renderBefore)!==null&&_s$renderBefore!==void 0?_s$renderBefore:i;var h=e._$litPart$;if(void 0===h){var _s$renderBefore2;var _t14=(_s$renderBefore2=s===null||s===void 0?void 0:s.renderBefore)!==null&&_s$renderBefore2!==void 0?_s$renderBefore2:null;e._$litPart$=h=new R(i.insertBefore(l(),_t14),_t14,void 0,s!==null&&s!==void 0?s:{});}return h._$AI(t),h;};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var r$2=/*#__PURE__*/function(_b2){function r(){var _this7;_classCallCheck(this,r);_this7=_callSuper(this,r,arguments),_this7.renderOptions={host:_assertThisInitialized(_this7)},_this7._$Do=void 0;return _this7;}_inherits(r,_b2);return _createClass(r,[{key:"createRenderRoot",value:function createRenderRoot(){var _this$renderOptions,_this$renderOptions$r;var t=_superPropGet(r,"createRenderRoot",this,3)([]);return(_this$renderOptions$r=(_this$renderOptions=this.renderOptions).renderBefore)!==null&&_this$renderOptions$r!==void 0?_this$renderOptions$r:_this$renderOptions.renderBefore=t.firstChild,t;}},{key:"update",value:function update(t){var s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_superPropGet(r,"update",this,3)([t]),this._$Do=B(s,this.renderRoot,this.renderOptions);}},{key:"connectedCallback",value:function connectedCallback(){var _this$_$Do;_superPropGet(r,"connectedCallback",this,3)([]),(_this$_$Do=this._$Do)===null||_this$_$Do===void 0?void 0:_this$_$Do.setConnected(true);}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _this$_$Do2;_superPropGet(r,"disconnectedCallback",this,3)([]),(_this$_$Do2=this._$Do)===null||_this$_$Do2===void 0?void 0:_this$_$Do2.setConnected(false);}},{key:"render",value:function render(){return T;}}]);}(b);r$2._$litElement$=true,r$2["finalized"]=true,(_globalThis$litElemen=globalThis.litElementHydrateSupport)===null||_globalThis$litElemen===void 0?void 0:_globalThis$litElemen.call(globalThis,{LitElement:r$2});var i=globalThis.litElementPolyfillSupport;i===null||i===void 0||i({LitElement:r$2});((_globalThis$litElemen2=globalThis.litElementVersions)!==null&&_globalThis$litElemen2!==void 0?_globalThis$litElemen2:globalThis.litElementVersions=[]).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t=function t(_t15){return function(e,o){void 0!==o?o.addInitializer(function(){customElements.define(_t15,e);}):customElements.define(_t15,e);};};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o={attribute:true,type:String,converter:u$1,reflect:false,hasChanged:f$1},r$1=function r$1(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o;var e=arguments.length>1?arguments[1]:undefined;var r=arguments.length>2?arguments[2]:undefined;var n=r.kind,i=r.metadata;var s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map()),s.set(r.name,t),"accessor"===n){var _o3=r.name;return{set:function set(r){var n=e.get.call(this);e.set.call(this,r),this.requestUpdate(_o3,n,t);},init:function init(e){return void 0!==e&&this.P(_o3,void 0,t),e;}};}if("setter"===n){var _o4=r.name;return function(r){var n=this[_o4];e.call(this,r),this.requestUpdate(_o4,n,t);};}throw Error("Unsupported decorator location: "+n);};function n(t){return function(e,o){return"object"==_typeof(o)?r$1(t,e,o):function(t,e,o){var r=e.hasOwnProperty(o);return e.constructor.createProperty(o,r?_objectSpread(_objectSpread({},t),{},{wrapped:true}):t),r?Object.getOwnPropertyDescriptor(e,o):void 0;}(t,e,o);};}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r(r){return n(_objectSpread(_objectSpread({},r),{},{state:true,attribute:false}));}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var e$1=function e$1(e,t,c){return c.configurable=true,c.enumerable=true,Reflect.decorate&&"object"!=_typeof(t)&&Object.defineProperty(e,t,c),c;};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function e(e,r){return function(n,s,i){var o=function o(t){var _t$renderRoot$querySe,_t$renderRoot;return(_t$renderRoot$querySe=(_t$renderRoot=t.renderRoot)===null||_t$renderRoot===void 0?void 0:_t$renderRoot.querySelector(e))!==null&&_t$renderRoot$querySe!==void 0?_t$renderRoot$querySe:null;};return e$1(n,s,{get:function get(){return o(this);}});};}var roundButtonStyles=i$3(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  .round-button {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #363640;\n    border-radius: 999px;\n    color: #ffffff;\n    width: 64px;\n    height: 64px;\n    cursor: pointer;\n    border: 0;\n  }\n"])));var PREFIX_NAME="hub";var HubModal=/*#__PURE__*/function(_r$2){function HubModal(){var _this8;_classCallCheck(this,HubModal);_this8=_callSuper(this,HubModal,arguments);_this8.title="";_this8.dialog=null;return _this8;}_inherits(HubModal,_r$2);return _createClass(HubModal,[{key:"firstUpdated",value:function firstUpdated(){var _this9=this;var _a;this.dialog=this.renderRoot.querySelector("dialog");(_a=this.dialog)===null||_a===void 0?void 0:_a.addEventListener("close",function(){_this9.dispatchEvent(new CustomEvent("modal-closed"));});}},{key:"showModal",value:function showModal(){var _a;(_a=this.dialog)===null||_a===void 0?void 0:_a.showModal();this.dispatchEvent(new CustomEvent("modal-opened"));}},{key:"hideModal",value:function hideModal(){var _a;(_a=this.dialog)===null||_a===void 0?void 0:_a.close();}},{key:"render",value:function render(){return x(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n      <dialog>\n        <div class=\"modal__inner\">\n          ","\n          <div class=\"modal__content\">\n            <slot></slot>\n          </div>\n          <div class=\"modal__actions\">\n            <div class=\"modal__left\">\n              <button class=\"round-button\" name=\"Close\" icon=\"\" @click="," aria-label=\"Close\">\n                <ha-state-icon icon=\"mdi:close\"></ha-state-icon>\n              </button>\n            </div>\n            <div class=\"modal__pagination\">\n              <slot name=\"pagination\"></slot>\n            </div>\n            <div class=\"modal__right\">\n              <slot name=\"actions\"></slot>\n            </div>\n          </div>\n        </div>\n      </dialog>\n    "])),this.title?x(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["<h2 class=\"modal__title\">","</h2>"])),this.title):null,this.hideModal);}}],[{key:"styles",get:function get(){return[roundButtonStyles,i$3(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n        dialog::backdrop {\n          background: rgba(0, 0, 0, 0.3);\n          backdrop-filter: blur(30px);\n        }\n        dialog {\n          border: none;\n          border-radius: 1.5rem;\n          padding: 0;\n          width: 100%;\n          height: 100%;\n          margin: 20px;\n          background: linear-gradient(90deg, #0a090d 0%, #201f25 100%);\n          color: white;\n          position: relative;\n        }\n        .modal__inner {\n          display: flex;\n          height: calc(100% - 40px);\n          flex-direction: column;\n          align-items: center;\n          padding: 20px;\n        }\n        .modal__title {\n          font-size: 1.5rem;\n          width: 100%;\n          margin: 0;\n          margin-bottom: 20px;\n        }\n        .modal__content {\n          flex: 1;\n          width: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: flex-start;\n        }\n        .modal__actions {\n          position: absolute;\n          display: inline-flex;\n          justify-content: space-between;\n          bottom: 20px;\n          left: 20px;\n          right: 20px;\n        }\n        .modal__left,\n        .modal__right,\n        .modal__pagination {\n          width: 33%;\n          display: flex;\n          align-items: center;\n        }\n        .modal__right {\n          justify-content: flex-end;\n        }\n        .modal__pagination {\n          justify-content: center;\n        }\n        ::slotted([slot=\"actions\"]) {\n          display: flex;\n          gap: 0.5rem;\n        }\n      "])))];}}]);}(r$2);__decorate([n({type:String})],HubModal.prototype,"title",void 0);__decorate([r()],HubModal.prototype,"dialog",void 0);HubModal=__decorate([t("".concat(PREFIX_NAME,"-modal"))],HubModal);var HubBaseButtonCard=/*#__PURE__*/function(_r$3){function HubBaseButtonCard(){var _this10;_classCallCheck(this,HubBaseButtonCard);_this10=_callSuper(this,HubBaseButtonCard,arguments);_this10.label="";_this10.subline="";_this10.icon="";_this10.chevron=false;return _this10;}_inherits(HubBaseButtonCard,_r$3);return _createClass(HubBaseButtonCard,[{key:"render",value:function render(){return x(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n      <button class=\"hub-base-button-card\">\n        <div class=\"hub-base-button-card__icon\">\n          <ha-icon .icon=\"","\"></ha-icon>\n        </div>\n        <div class=\"hub-base-button-card__inner\">\n          <slot>\n            <div class=\"text-size-base\">","</div>\n            ","\n          </slot>\n        </div>\n        ","\n        <md-ripple></md-ripple>\n      </button>\n    "])),this.icon,this.label,this.subline?x(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["<div class=\"hub-base-button-card__subline text-size-sm\">","</div>"])),this.subline):"",this.chevron?x(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n              <div class=\"button-card__chevron\">\n                <ha-icon icon=\"mdi:chevron-right\"></ha-icon>\n              </div>\n            "]))):"");}}]);}(r$2);HubBaseButtonCard.styles=i$3(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n    .hub-base-button-card {\n      position: relative;\n      display: inline-flex;\n      align-items: center;\n      background-color: #363640;\n      gap: 12px;\n      border-radius: 999px;\n      border: 0;\n      padding: 8px 32px 8px 8px;\n      color: #ffffff;\n      cursor: pointer;\n    }\n    .hub-base-button-card__icon {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 48px;\n      height: 48px;\n      color: #17161c;\n      border-radius: 999px;\n      background-color: #ffd300;\n    }\n    .hub-base-button-card__inner {\n      display: flex;\n      align-items: flex-start;\n      flex-direction: column;\n      flex: 1;\n    }\n    .hub-base-button-card__subline {\n      font-size: 0.875rem;\n      opacity: 0.7;\n    }\n    .button-card__chevron {\n      margin-left: 8px;\n      display: flex;\n      align-items: center;\n    }\n  "])));__decorate([n({type:String})],HubBaseButtonCard.prototype,"label",void 0);__decorate([n({type:String})],HubBaseButtonCard.prototype,"subline",void 0);__decorate([n({type:String})],HubBaseButtonCard.prototype,"icon",void 0);__decorate([n({type:Boolean})],HubBaseButtonCard.prototype,"chevron",void 0);HubBaseButtonCard=__decorate([t("".concat(PREFIX_NAME,"-base-button-card"))],HubBaseButtonCard);var HubBaseActionCard=/*#__PURE__*/function(_r$4){function HubBaseActionCard(){var _this11;_classCallCheck(this,HubBaseActionCard);_this11=_callSuper(this,HubBaseActionCard,arguments);_this11.label="";_this11.subline="";_this11.text="";_this11.active=false;_this11.icon="emoji_objects";_this11.chevron=false;_this11.locked=false;_this11.editMode=false;return _this11;}_inherits(HubBaseActionCard,_r$4);return _createClass(HubBaseActionCard,[{key:"handleClick",value:function handleClick(event){if(this.actionRef&&this.actionRef.contains(event.target)){return;}if(!this.baseActionCardRef||!this.labelRef){return;}this.dispatchEvent(new CustomEvent("click",{detail:event}));}},{key:"render",value:function render(){return x(_templateObject9||(_templateObject9=_taggedTemplateLiteral(["\n      <div\n        class=\"base-action-card\n          ","\n          ","\n          ","\"\n        @click=","\n      >\n        ","\n\n        <div class=\"base-action-card__inner\">\n          <div class=\"base-action-card__content\">\n            <slot name=\"overlay\"></slot>\n            <slot name=\"icon\">\n              ","\n            </slot>\n            <div class=\"base-action-card__labels\">\n              <h3 class=\"base-action-card__headline\">","</h3>\n              <span class=\"base-action-card__subline\">","</span>\n              ","\n            </div>\n            <slot name=\"media\"></slot>\n            ","\n          </div>\n          ","\n        </div>\n      </div>\n    "])),this.active&&!this.editMode?"base-action-card--active":"",this.chevron?"base-action-card--chevron":"",this.editMode?"base-action-card--edit-mode":"",this.handleClick,this.locked?x(_templateObject10||(_templateObject10=_taggedTemplateLiteral(["<div class=\"base-action-card__locked\"><ha-icon icon=\"mdi:lock\"></ha-icon></div>"]))):null,this.icon?x(_templateObject11||(_templateObject11=_taggedTemplateLiteral(["<ha-icon class=\"base-action-card__icon\" .icon=","></ha-icon>"])),this.icon):null,this.label,this.subline,this.text?x(_templateObject12||(_templateObject12=_taggedTemplateLiteral(["<span class=\"base-action-card__text text-size-sm\">","</span>"])),this.text):null,!this.editMode?x(_templateObject13||(_templateObject13=_taggedTemplateLiteral(["\n                  <div class=\"base-action-card__actions\">\n                    <slot name=\"action\"></slot>\n                  </div>\n                "]))):null,this.chevron||this.editMode?x(_templateObject14||(_templateObject14=_taggedTemplateLiteral(["\n                <svg class=\"base-action-card__chevron\" viewBox=\"0 0 9 9\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M8,0 C8.55228475,0 9,0.44771525 9,1 L9,8 C9,8.55228475 8.55228475,9 8,9 L1,9 C0.44771525,9 0,8.55228475 0,8 C0,7.44771525 0.44771525,7 1,7 L7,7 L7,1 C7,0.487164161 7.38604019,0.0644928393 7.88337887,0.00672773133 L8,0 Z\"\n                    fill=\"currentColor\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                </svg>\n              "]))):null);}}]);}(r$2);HubBaseActionCard.styles=i$3(_templateObject15||(_templateObject15=_taggedTemplateLiteral(["\n    .base-action-card {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      background-color: var(--base-action-card-background, #363640);\n      color: var(--base-action-card-color, #fff);\n      border-radius: 24px;\n      display: flex;\n      flex-direction: column;\n      container-type: size;\n    }\n\n    .base-action-card.base-action-card--active {\n      background-color: var(--base-action-card-active-background, #ffd300);\n      color: var(--base-action-card-active-color, #17161c);\n    }\n\n    .base-action-card--active .base-action-card__subline,\n    .base-action-card--active .base-action-card__text {\n      color: var(--base-action-card-active-color, #23232a);\n    }\n    .base-action-card--chevron {\n      border-radius: 24px 24px 0 24px;\n    }\n    .base-action-card--edit-mode .base-action-card__headline,\n    .base-action-card--edit-mode .base-action-card__icon,\n    .base-action-card--edit-mode .base-action-card__text,\n    .base-action-card--edit-mode .base-action-card__subline {\n      color: #444;\n    }\n    .base-action-card--edit-mode .base-action-card__actions {\n      display: none;\n    }\n    .base-action-card__inner {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n      padding: 12px;\n      z-index: 1;\n    }\n    .base-action-card__content {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      text-align: center;\n      gap: 0;\n      z-index: 1;\n    }\n    .base-action-card__labels {\n      z-index: 3;\n    }\n    .base-action-card__icon {\n      width: 48px;\n      height: 48px;\n      font-size: 2rem;\n      line-height: 1;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .base-action-card__headline {\n      font-size: 1rem;\n      line-height: 1rem;\n      margin-top: 0;\n      word-break: break-all;\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      line-clamp: 2;\n      -webkit-box-orient: vertical;\n      margin-block-start: 0;\n      margin-block-end: 0;\n    }\n    .base-action-card__subline {\n      font-size: 0.875rem;\n      opacity: 0.7;\n    }\n    .base-action-card__text {\n      color: #888;\n      font-size: 0.875rem;\n      display: block;\n    }\n    .base-action-card__actions {\n      margin-top: 8px;\n      display: block;\n    }\n    .base-action-card__locked {\n      position: absolute;\n      top: 20px;\n      left: 20px;\n    }\n    .base-action-card__chevron {\n      position: absolute;\n      right: 8px;\n      bottom: 8px;\n      left: auto;\n      width: 9px;\n      height: 9px;\n    }\n  "])));__decorate([n({type:String})],HubBaseActionCard.prototype,"label",void 0);__decorate([n({type:String})],HubBaseActionCard.prototype,"subline",void 0);__decorate([n({type:String})],HubBaseActionCard.prototype,"text",void 0);__decorate([n({type:Boolean})],HubBaseActionCard.prototype,"active",void 0);__decorate([n({type:String})],HubBaseActionCard.prototype,"icon",void 0);__decorate([n({type:Boolean})],HubBaseActionCard.prototype,"chevron",void 0);__decorate([n({type:Boolean})],HubBaseActionCard.prototype,"locked",void 0);__decorate([n({type:Boolean})],HubBaseActionCard.prototype,"editMode",void 0);__decorate([e(".base-action-card")],HubBaseActionCard.prototype,"baseActionCardRef",void 0);__decorate([e(".base-action-card__actions")],HubBaseActionCard.prototype,"actionRef",void 0);__decorate([e(".base-action-card__headline")],HubBaseActionCard.prototype,"labelRef",void 0);HubBaseActionCard=__decorate([t("".concat(PREFIX_NAME,"-base-action-card"))],HubBaseActionCard);var ToggleSwitch=/*#__PURE__*/function(_r$5){function ToggleSwitch(){var _this12;_classCallCheck(this,ToggleSwitch);_this12=_callSuper(this,ToggleSwitch,arguments);_this12.model=false;_this12.size="default";_this12.colored=false;return _this12;}_inherits(ToggleSwitch,_r$5);return _createClass(ToggleSwitch,[{key:"_toggle",value:function _toggle(){this.model=!this.model;this.dispatchEvent(new Event("change",{bubbles:true,composed:true}));}},{key:"render",value:function render(){return x(_templateObject16||(_templateObject16=_taggedTemplateLiteral(["\n      <button\n        type=\"button\"\n        class=\"toggle\n          ","\n          ","\"\n        role=\"switch\"\n        aria-checked=\"","\"\n        @click=","\n      >\n        <span aria-hidden=\"true\" class=\"toggle__pin\"></span>\n      </button>\n    "])),this.model?"toggle--active":"",this.colored?"toggle--colored":"",this.model,this._toggle);}}]);}(r$2);ToggleSwitch.styles=i$3(_templateObject17||(_templateObject17=_taggedTemplateLiteral(["\n    .toggle {\n      display: inline-flex;\n      position: relative;\n      border-radius: 9999px;\n      border-color: transparent;\n      transition: all ease-in-out 200ms;\n      cursor: pointer;\n      background-color: rgba(0, 0, 0, 0.5);\n      height: 40px;\n      width: 80px;\n      border: none;\n      outline: none;\n      padding: 0;\n    }\n    .toggle__pin {\n      display: inline-block;\n      border-radius: 9999px;\n      background-color: #ffffff;\n      transition: all ease-in-out 200ms;\n      pointer-events: none;\n      width: 40px;\n      height: 40px;\n      position: absolute;\n      left: 0;\n      top: 0;\n    }\n    .toggle.toggle--active .toggle__pin {\n      transform: translateX(40px);\n    }\n    .toggle.toggle--active.toggle--colored {\n      background-color: #ffd300;\n    }\n  "])));__decorate([n({type:Boolean,reflect:true})],ToggleSwitch.prototype,"model",void 0);__decorate([n({type:String})],ToggleSwitch.prototype,"size",void 0);__decorate([n({type:Boolean})],ToggleSwitch.prototype,"colored",void 0);ToggleSwitch=__decorate([t("".concat(PREFIX_NAME,"-toggle-switch"))],ToggleSwitch);function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,'default')?x['default']:x;}var interact_min$1={exports:{}};/* interact.js 1.10.27 | https://raw.github.com/taye/interact.js/main/LICENSE */var interact_min=interact_min$1.exports;var hasRequiredInteract_min;function requireInteract_min(){if(hasRequiredInteract_min)return interact_min$1.exports;hasRequiredInteract_min=1;(function(module,exports){!function(t,e){module.exports=e();}(interact_min,function(){function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable;})),n.push.apply(n,r);}return n;}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),true).forEach(function(t){a(e,t,r[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t));});}return e;}function n(t){return n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t);}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t);},n(t);}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false,r.configurable=true,"value"in r&&(r.writable=true),Object.defineProperty(t,d(r.key),r);}}function o(t,e,n){return e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:false}),t;}function a(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n,t;}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}}),Object.defineProperty(t,"prototype",{writable:false}),e&&l(t,e);}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t);},c(t);}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t;},l(t,e);}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t;}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"==typeof Proxy)return true;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0;}catch(t){return false;}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i);}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t);}(this,n);};}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t;}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value;}},f.apply(this,arguments);}function d(t){var e=function(t,e){if("object"!=_typeof(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return String(t);}(t,"string");return"symbol"==_typeof(e)?e:e+"";}var h=function h(t){return!(!t||!t.Window)&&t instanceof t.Window;},v=void 0,g=void 0;function m(t){v=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),g=t;}function y(t){return h(t)?t:(t.ownerDocument||t).defaultView||g.window;}"undefined"!=typeof window&&window&&m(window);var b=function b(t){return!!t&&"object"===n(t);},x=function x(t){return"function"==typeof t;},w={window:function window(t){return t===g||h(t);},docFrag:function docFrag(t){return b(t)&&11===t.nodeType;},object:b,func:x,number:function number(t){return"number"==typeof t;},bool:function bool(t){return"boolean"==typeof t;},string:function string(t){return"string"==typeof t;},element:function element(t){if(!t||"object"!==n(t))return false;var e=y(t)||g;return /object|function/.test("undefined"==typeof Element?"undefined":n(Element))?t instanceof Element||t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName;},plainObject:function plainObject(t){return b(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString());},array:function array(t){return b(t)&&void 0!==t.length&&x(t.splice);}};function E(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0);}}function T(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";e.page[i]=n.coords.start.page[i],e.client[i]=n.coords.start.client[i],e.delta[i]=0;}}}var S={id:"actions/drag",install:function install(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=S.draggable,e.map.drag=S,e.methodDict.drag="draggable",r.actions.drag=S.defaults;},listeners:{"interactions:before-action-move":E,"interactions:action-resume":E,"interactions:action-move":T,"auto-start:check":function autoStartCheck(t){var e=t.interaction,n=t.interactable,r=t.buttons,i=n.options.drag;if(i&&i.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(r&n.options.drag.mouseButtons)))return t.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},false;}},draggable:function draggable(t){return w.object(t)?(this.options.drag.enabled=false!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):w.bool(t)?(this.options.drag.enabled=t,this):this.options.drag;},beforeMove:E,move:T,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function getCursor(){return"move";},filterEventType:function filterEventType(t){return 0===t.search("drag");}},_=S,P={init:function init(t){var e=t;P.document=e.document,P.DocumentFragment=e.DocumentFragment||O,P.SVGElement=e.SVGElement||O,P.SVGSVGElement=e.SVGSVGElement||O,P.SVGElementInstance=e.SVGElementInstance||O,P.Element=e.Element||O,P.HTMLElement=e.HTMLElement||P.Element,P.Event=e.Event,P.Touch=e.Touch||O,P.PointerEvent=e.PointerEvent||e.MSPointerEvent;},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function O(){}var k=P;var D={init:function init(t){var e=k.Element,n=t.navigator||{};D.supportsTouch="ontouchstart"in t||w.func(t.DocumentTouch)&&k.document instanceof t.DocumentTouch,D.supportsPointerEvent=false!==n.pointerEnabled&&!!k.PointerEvent,D.isIOS=/iP(hone|od|ad)/.test(n.platform),D.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),D.isIe9=/MSIE 9/.test(n.userAgent),D.isOperaMobile="Opera"===n.appName&&D.supportsTouch&&/Presto/.test(n.userAgent),D.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",D.pEventTypes=D.supportsPointerEvent?k.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,D.wheelEvent=k.document&&"onmousewheel"in k.document?"mousewheel":"wheel";},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};var I=D;function M(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return true;e=e.parentNode;}return false;}function z(t,e){for(;w.element(t);){if(R(t,e))return t;t=A(t);}return null;}function A(t){var e=t.parentNode;if(w.docFrag(e)){for(;(e=e.host)&&w.docFrag(e););return e;}return e;}function R(t,e){return g!==v&&(e=e.replace(/\/deep\//g," ")),t[I.prefixedMatchesSelector](e);}var C=function C(t){return t.parentNode||t.host;};function j(t,e){for(var n,r=[],i=t;(n=C(i))&&i!==e&&n!==i.ownerDocument;)r.unshift(i),i=n;return r;}function F(t,e,n){for(;w.element(t);){if(R(t,e))return true;if((t=A(t))===n)return R(t,e);}return false;}function X(t){return t.correspondingUseElement||t;}function Y(t){var e=t instanceof k.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top};}function L(t){var e,n=Y(t);if(!I.isIOS7&&n){var r={x:(e=(e=y(t))||g).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y;}return n;}function q(t){for(var e=[];t;)e.push(t),t=A(t);return e;}function B(t){return!!w.string(t)&&(k.document.querySelector(t),true);}function V(t,e){for(var n in e)t[n]=e[n];return t;}function W(t,e,n){return"parent"===t?A(n):"self"===t?e.getRect(n):z(n,t);}function G(t,e,n,r){var i=t;return w.string(i)?i=W(i,e,n):w.func(i)&&(i=i.apply(void 0,r)),w.element(i)&&(i=L(i)),i;}function N(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top};}function U(t){return!t||"x"in t&&"y"in t||((t=V({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t;}function H(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top;}function K(t,e,n){var r=n&&t.options[n];return N(G(r&&r.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0};}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return true;},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},w.string(t)&&-1!==t.search(" ")&&(t=J(t)),w.array(t))return t.forEach(function(t){return $(t,e,n,r);}),r;if(w.object(t)&&(e=t,t=""),w.func(e)&&n(t))r[t]=r[t]||[],r[t].push(e);else if(w.array(e))for(var i=0,o=e;i<o.length;i++){var a=o[i];$(t,a,n,r);}else if(w.object(e))for(var s in e){$(J(s).map(function(e){return"".concat(t).concat(e);}),e[s],n,r);}return r;}function J(t){return t.trim().split(/ +/);}var Q=function Q(t,e){return Math.sqrt(t*t+e*e);},Z=["webkit","moz"];function tt(t,e){t.__set||(t.__set={});var n=function n(_n4){if(Z.some(function(t){return 0===_n4.indexOf(t);}))return 1;"function"!=typeof t[_n4]&&"__set"!==_n4&&Object.defineProperty(t,_n4,{get:function get(){return _n4 in t.__set?t.__set[_n4]:t.__set[_n4]=e[_n4];},set:function set(e){t.__set[_n4]=e;},configurable:true});};for(var r in e)n(r);return t;}function et(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp;}function nt(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0;}function rt(t){return t instanceof k.Event||t instanceof k.Touch;}function it(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n;}function ot(t,e){return e=e||{x:0,y:0},I.isOperaMobile&&rt(t)?(it("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):it("page",t,e),e;}function at(t){return w.number(t.pointerId)?t.pointerId:t.identifier;}function st(t,e,n){var r=e.length>1?lt(e):e[0];ot(r,t.page),function(t,e){e=e||{},I.isOperaMobile&&rt(t)?it("screen",t,e):it("client",t,e);}(r,t.client),t.timeStamp=n;}function ct(t){var e=[];return w.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e;}function lt(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var i in e)e[i]+=r[i];}for(var o in e)e[o]/=t.length;return e;}function ut(t){if(!t.length)return null;var e=ct(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r};}function pt(t,e){var n=e+"X",r=e+"Y",i=ct(t),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return Q(o,a);}function ft(t,e){var n=e+"X",r=e+"Y",i=ct(t),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI;}function dt(t){return w.string(t.pointerType)?t.pointerType:w.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof k.Touch?"touch":"mouse";}function ht(t){var e=w.func(t.composedPath)?t.composedPath():t.path;return[X(e?e[0]:t.target),X(t.currentTarget)];}var vt=function(){function t(e){r(this,t),this.immediatePropagationStopped=false,this.propagationStopped=false,this._interaction=e;}return o(t,[{key:"preventDefault",value:function value(){}},{key:"stopPropagation",value:function value(){this.propagationStopped=true;}},{key:"stopImmediatePropagation",value:function value(){this.immediatePropagationStopped=this.propagationStopped=true;}}]),t;}();Object.defineProperty(vt.prototype,"interaction",{get:function get(){return this._interaction._proxy;},set:function set(){}});var gt=function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r);}return t;},mt=function mt(t){return gt([],t);},yt=function yt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1;},bt=function bt(t,e){return t[yt(t,e)];},xt=function(t){s(n,t);var e=p(n);function n(t,i,o){var a;r(this,n),(a=e.call(this,i._interaction)).dropzone=void 0,a.dragEvent=void 0,a.relatedTarget=void 0,a.draggable=void 0,a.propagationStopped=false,a.immediatePropagationStopped=false;var s="dragleave"===o?t.prev:t.cur,c=s.element,l=s.dropzone;return a.type=o,a.target=c,a.currentTarget=c,a.dropzone=l,a.dragEvent=i,a.relatedTarget=i.target,a.draggable=i.interactable,a.timeStamp=i.timeStamp,a;}return o(n,[{key:"reject",value:function value(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=true,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var r=e.activeDrops,i=yt(r,function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target;});e.activeDrops.splice(i,1);var o=new n(e,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o);}else this.dropzone.fire(new n(e,this.dragEvent,"dragleave"));}},{key:"preventDefault",value:function value(){}},{key:"stopPropagation",value:function value(){this.propagationStopped=true;}},{key:"stopImmediatePropagation",value:function value(){this.immediatePropagationStopped=this.propagationStopped=true;}}]),n;}(vt);function wt(t,e){for(var n=0,r=t.slice();n<r.length;n++){var i=r[n],o=i.dropzone,a=i.element;e.dropzone=o,e.target=a,o.fire(e),e.propagationStopped=e.immediatePropagationStopped=false;}}function Et(t,e){for(var n=function(t,e){for(var n=[],r=0,i=t.interactables.list;r<i.length;r++){var o=i[r];if(o.options.drop.enabled){var a=o.options.drop.accept;if(!(w.element(a)&&a!==e||w.string(a)&&!R(e,a)||w.func(a)&&!a({dropzone:o,draggableElement:e})))for(var s=0,c=o.getAllElements();s<c.length;s++){var l=c[s];l!==e&&n.push({dropzone:o,element:l,rect:o.getRect(l)});}}}return n;}(t,e),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element);}return n;}function Tt(t,e,n){for(var r=t.dropState,i=t.interactable,o=t.element,a=[],s=0,c=r.activeDrops;s<c.length;s++){var l=c[s],u=l.dropzone,p=l.element,f=l.rect,d=u.dropCheck(e,n,i,o,p,f);a.push(d?p:null);}var h=function(t){for(var e,n,r,i=[],o=0;o<t.length;o++){var a=t[o],s=t[e];if(a&&o!==e)if(s){var c=C(a),l=C(s);if(c!==a.ownerDocument)if(l!==a.ownerDocument){if(c!==l){i=i.length?i:j(s);var u=void 0;if(s instanceof k.HTMLElement&&a instanceof k.SVGElement&&!(a instanceof k.SVGSVGElement)){if(a===l)continue;u=a.ownerSVGElement;}else u=a;for(var p=j(u,s.ownerDocument),f=0;p[f]&&p[f]===i[f];)f++;var d=[p[f-1],p[f],i[f]];if(d[0])for(var h=d[0].lastChild;h;){if(h===d[1]){e=o,i=p;break;}if(h===d[2])break;h=h.previousSibling;}}else r=s,(parseInt(y(n=a).getComputedStyle(n).zIndex,10)||0)>=(parseInt(y(r).getComputedStyle(r).zIndex,10)||0)&&(e=o);}else e=o;}else e=o;}return e;}(a);return r.activeDrops[h]||null;}function St(t,e,n){var r=t.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new xt(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new xt(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new xt(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new xt(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new xt(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new xt(r,n,"dropmove"),n.dropzone=r.cur.dropzone)),i;}function _t(t,e){var n=t.dropState,r=n.activeDrops,i=n.cur,o=n.prev;e.leave&&o.dropzone.fire(e.leave),e.enter&&i.dropzone.fire(e.enter),e.move&&i.dropzone.fire(e.move),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&wt(r,e.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element;}function Pt(t,e){var n=t.interaction,r=t.iEvent,i=t.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;e.dynamicDrop&&(o.activeDrops=Et(e,n.element));var a=r,s=Tt(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=St(n,0,a);}}var Ot={id:"actions/drop",install:function install(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,i=t.defaults;t.usePlugin(_),r.prototype.dropzone=function(t){return function(t,e){if(w.object(e)){if(t.options.drop.enabled=false!==e.enabled,e.listeners){var n=$(e.listeners),r=Object.keys(n).reduce(function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t;},{}),i=t.options.drop.listeners;i&&t.off(i),t.on(r),t.options.drop.listeners=r;}return w.func(e.ondrop)&&t.on("drop",e.ondrop),w.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),w.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),w.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),w.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),w.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:w.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t;}if(w.bool(e))return t.options.drop.enabled=e,t;return t.options.drop;}(this,t);},r.prototype.dropCheck=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s=false;if(!(a=a||t.getRect(o)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,s,t,o,r,i);var c=t.options.drop.overlap;if("pointer"===c){var l=K(r,i,"drag"),u=ot(e);u.x+=l.x,u.y+=l.y;var p=u.x>a.left&&u.x<a.right,f=u.y>a.top&&u.y<a.bottom;s=p&&f;}var d=r.getRect(i);if(d&&"center"===c){var h=d.left+d.width/2,v=d.top+d.height/2;s=h>=a.left&&h<=a.right&&v>=a.top&&v<=a.bottom;}if(d&&w.number(c)){s=Math.max(0,Math.min(a.right,d.right)-Math.max(a.left,d.left))*Math.max(0,Math.min(a.bottom,d.bottom)-Math.max(a.top,d.top))/(d.width*d.height)>=c;}t.options.drop.checker&&(s=t.options.drop.checker(e,n,s,t,o,r,i));return s;}(this,t,e,n,r,i,o);},n.dynamicDrop=function(e){return w.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop;},V(e.phaselessTypes,{dragenter:true,dragleave:true,dropactivate:true,dropdeactivate:true,dropmove:true,drop:true}),e.methodDict.drop="dropzone",t.dynamicDrop=false,i.actions.drop=Ot.defaults;},listeners:{"interactions:before-action-start":function interactionsBeforeActionStart(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]});},"interactions:after-action-start":function interactionsAfterActionStart(t,e){var n=t.interaction,r=(t.event,t.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=[],i.events={},i.activeDrops=Et(e,n.element),i.events=St(n,0,r),i.events.activate&&(wt(i.activeDrops,i.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}));}},"interactions:action-move":Pt,"interactions:after-action-move":function interactionsAfterActionMove(t,e){var n=t.interaction,r=t.iEvent;if("drag"===n.prepared.name){var i=n.dropState;_t(n,i.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),i.events={};}},"interactions:action-end":function interactionsActionEnd(t,e){if("drag"===t.interaction.prepared.name){var n=t.interaction,r=t.iEvent;Pt(t,e),_t(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r});}},"interactions:stop":function interactionsStop(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=false);}}},getActiveDrops:Et,getDrop:Tt,getDropEvents:St,fireDropEvents:_t,filterEventType:function filterEventType(t){return 0===t.search("drag")||0===t.search("drop");},defaults:{enabled:false,accept:null,overlap:"pointer"}},kt=Ot;function Dt(t){var e=t.interaction,n=t.iEvent,r=t.phase;if("gesture"===e.prepared.name){var i=e.pointers.map(function(t){return t.pointer;}),o="start"===r,a="end"===r,s=e.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],o)n.distance=pt(i,s),n.box=ut(i),n.scale=1,n.ds=0,n.angle=ft(i,s),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(a||e.pointers.length<2){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0;}else n.distance=pt(i,s),n.box=ut(i),n.scale=n.distance/e.gesture.startDistance,n.angle=ft(i,s),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,w.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale);}}var It={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function install(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.gesturable=function(t){return w.object(t)?(this.options.gesture.enabled=false!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):w.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture;},e.map.gesture=It,e.methodDict.gesture="gesturable",r.actions.gesture=It.defaults;},listeners:{"interactions:action-start":Dt,"interactions:action-move":Dt,"interactions:action-end":Dt,"interactions:new":function interactionsNew(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0};},"auto-start:check":function autoStartCheck(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},false;}}},defaults:{},getCursor:function getCursor(){return"";},filterEventType:function filterEventType(t){return 0===t.search("gesture");}},Mt=It;function zt(t,e,n,r,i,o,a){if(!e)return false;if(true===e){var s=w.number(o.width)?o.width:o.right-o.left,c=w.number(o.height)?o.height:o.bottom-o.top;if(a=Math.min(a,Math.abs(("left"===t||"right"===t?s:c)/2)),s<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t){var l=s>=0?o.left:o.right;return n.x<l+a;}if("top"===t){var u=c>=0?o.top:o.bottom;return n.y<u+a;}if("right"===t)return n.x>(s>=0?o.right:o.left)-a;if("bottom"===t)return n.y>(c>=0?o.bottom:o.top)-a;}return!!w.element(r)&&(w.element(e)?e===r:F(r,e,i));}function At(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=e;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0));}}var Rt,Ct,jt={id:"actions/resize",before:["actions/drag"],install:function install(t){var e=t.actions,n=t.browser,r=t.Interactable,i=t.defaults;jt.cursors=function(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"};}(n),jt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(e){return function(t,e,n){if(w.object(e))return t.options.resize.enabled=false!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),w.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),w.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:w.bool(e.square)&&(t.options.resize.square=e.square),t;if(w.bool(e))return t.options.resize.enabled=e,t;return t.options.resize;}(this,e,t);},e.map.resize=jt,e.methodDict.resize="resizable",i.actions.resize=jt.defaults;},listeners:{"interactions:new":function interactionsNew(t){t.interaction.resizeAxes="xy";},"interactions:action-start":function interactionsActionStart(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,i=n.rect;n._rects={start:V({},i),corrected:V({},i),previous:V({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta;}}(t),At(t);},"interactions:action-move":function interactionsActionMove(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,a=n.rect,s=n._rects,c=s.start,l=s.corrected,u=s.delta,p=s.previous;if(V(p,l),o){if(V(l,a),"reposition"===i){if(l.top>l.bottom){var f=l.top;l.top=l.bottom,l.bottom=f;}if(l.left>l.right){var d=l.left;l.left=l.right,l.right=d;}}}else l.top=Math.min(a.top,c.bottom),l.bottom=Math.max(a.bottom,c.top),l.left=Math.min(a.left,c.right),l.right=Math.max(a.right,c.left);for(var h in l.width=l.right-l.left,l.height=l.bottom-l.top,l)u[h]=l[h]-p[h];r.edges=n.prepared.edges,r.rect=l,r.deltaRect=u;}}(t),At(t);},"interactions:action-end":function interactionsActionEnd(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta;}},"auto-start:check":function autoStartCheck(t){var e=t.interaction,n=t.interactable,r=t.element,i=t.rect,o=t.buttons;if(i){var a=V({},e.coords.cur.page),s=n.options.resize;if(s&&s.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(o&s.mouseButtons))){if(w.object(s.edges)){var c={left:false,right:false,top:false,bottom:false};for(var l in c)c[l]=zt(l,s.edges[l],a,e._latestPointer.eventTarget,r,i,s.margin||jt.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(t.action={name:"resize",edges:c});}else{var u="y"!==s.axis&&a.x>i.right-jt.defaultMargin,p="x"!==s.axis&&a.y>i.bottom-jt.defaultMargin;(u||p)&&(t.action={name:"resize",axes:(u?"x":"")+(p?"y":"")});}return!t.action&&void 0;}}}},defaults:{square:false,preserveAspectRatio:false,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function getCursor(t){var e=t.edges,n=t.axis,r=t.name,i=jt.cursors,o=null;if(n)o=i[r+n];else if(e){for(var a="",s=0,c=["top","bottom","left","right"];s<c.length;s++){var l=c[s];e[l]&&(a+=l);}o=i[a];}return o;},filterEventType:function filterEventType(t){return 0===t.search("resize");},defaultMargin:null},Ft=jt,Xt={id:"actions",install:function install(t){t.usePlugin(Mt),t.usePlugin(Ft),t.usePlugin(_),t.usePlugin(kt);}},Yt=0;var Lt={request:function request(t){return Rt(t);},cancel:function cancel(t){return Ct(t);},init:function init(t){if(Rt=t.requestAnimationFrame,Ct=t.cancelAnimationFrame,!Rt)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];Rt=t["".concat(r,"RequestAnimationFrame")],Ct=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")];}Rt=Rt&&Rt.bind(t),Ct=Ct&&Ct.bind(t),Rt||(Rt=function Rt(e){var n=Date.now(),r=Math.max(0,16-(n-Yt)),i=t.setTimeout(function(){e(n+r);},r);return Yt=n+r,i;},Ct=function Ct(t){return clearTimeout(t);});}};var qt={defaults:{enabled:false,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:false,prevTime:0,margin:0,speed:0,start:function start(t){qt.isScrolling=true,Lt.cancel(qt.i),t.autoScroll=qt,qt.interaction=t,qt.prevTime=qt.now(),qt.i=Lt.request(qt.scroll);},stop:function stop(){qt.isScrolling=false,qt.interaction&&(qt.interaction.autoScroll=null),Lt.cancel(qt.i);},scroll:function scroll(){var t=qt.interaction,e=t.interactable,n=t.element,r=t.prepared.name,i=e.options[r].autoScroll,o=Bt(i.container,e,n),a=qt.now(),s=(a-qt.prevTime)/1e3,c=i.speed*s;if(c>=1){var l={x:qt.x*c,y:qt.y*c};if(l.x||l.y){var u=Vt(o);w.window(o)?o.scrollBy(l.x,l.y):o&&(o.scrollLeft+=l.x,o.scrollTop+=l.y);var p=Vt(o),f={x:p.x-u.x,y:p.y-u.y};(f.x||f.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:f,interaction:t,container:o});}qt.prevTime=a;}qt.isScrolling&&(Lt.cancel(qt.i),qt.i=Lt.request(qt.scroll));},check:function check(t,e){var n;return null==(n=t.options[e].autoScroll)?void 0:n.enabled;},onInteractionMove:function onInteractionMove(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&qt.check(e.interactable,e.prepared.name))if(e.simulation)qt.x=qt.y=0;else{var r,i,o,a,s=e.interactable,c=e.element,l=e.prepared.name,u=s.options[l].autoScroll,p=Bt(u.container,s,c);if(w.window(p))a=n.clientX<qt.margin,r=n.clientY<qt.margin,i=n.clientX>p.innerWidth-qt.margin,o=n.clientY>p.innerHeight-qt.margin;else{var f=Y(p);a=n.clientX<f.left+qt.margin,r=n.clientY<f.top+qt.margin,i=n.clientX>f.right-qt.margin,o=n.clientY>f.bottom-qt.margin;}qt.x=i?1:a?-1:0,qt.y=o?1:r?-1:0,qt.isScrolling||(qt.margin=u.margin,qt.speed=u.speed,qt.start(e));}}};function Bt(t,e,n){return(w.string(t)?W(t,e,n):t)||y(n);}function Vt(t){return w.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop};}var Wt={id:"auto-scroll",install:function install(t){var e=t.defaults,n=t.actions;t.autoScroll=qt,qt.now=function(){return t.now();},n.phaselessTypes.autoscroll=true,e.perAction.autoScroll=qt.defaults;},listeners:{"interactions:new":function interactionsNew(t){t.interaction.autoScroll=null;},"interactions:destroy":function interactionsDestroy(t){t.interaction.autoScroll=null,qt.stop(),qt.interaction&&(qt.interaction=null);},"interactions:stop":qt.stop,"interactions:action-move":function interactionsActionMove(t){return qt.onInteractionMove(t);}}},Gt=Wt;function Nt(t,e){var n=false;return function(){return n||(g.console.warn(e),n=true),t.apply(this,arguments);};}function Ut(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t;}function Ht(t){return w.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor;}function Kt(t){return w.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker;}var $t={id:"auto-start/interactableMethods",install:function install(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,i){var o=function(t,e,n,r,i){var o=t.getRect(r),a=e.buttons||{0:1,1:4,3:8,4:16}[e.button],s={action:null,interactable:t,interaction:n,element:r,rect:o,buttons:a};return i.fire("auto-start:check",s),s.action;}(this,n,r,i,t);return this.options.actionChecker?this.options.actionChecker(e,n,o,this,i,r):o;},e.prototype.ignoreFrom=Nt(function(t){return this._backCompatOption("ignoreFrom",t);},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=Nt(function(t){return this._backCompatOption("allowFrom",t);},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=Kt,e.prototype.styleCursor=Ht;}};function Jt(t,e,n,r,i){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&ee(e,n,t,i)?t:null;}function Qt(t,e,n,r,i,o,a){for(var s=0,c=r.length;s<c;s++){var l=r[s],u=i[s],p=l.getAction(e,n,t,u);if(p){var f=Jt(p,l,u,o,a);if(f)return{action:f,interactable:l,element:u};}}return{action:null,interactable:null,element:null};}function Zt(t,e,n,r,i){var o=[],a=[],s=r;function c(t){o.push(t),a.push(s);}for(;w.element(s);){o=[],a=[],i.interactables.forEachMatch(s,c);var l=Qt(t,e,n,o,a,r,i);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=A(s);}return{action:null,interactable:null,element:null};}function te(t,e,n){var r=e.action,i=e.interactable,o=e.element;r=r||{name:null},t.interactable=i,t.element=o,Ut(t.prepared,r),t.rect=i&&r.name?i.getRect(o):null,ie(t,n),n.fire("autoStart:prepared",{interaction:t});}function ee(t,e,n,r){var i=t.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,c=0,l=0,u=0;if(!(o&&a&&s))return false;for(var p=0,f=r.interactions.list;p<f.length;p++){var d=f[p],h=d.prepared.name;if(d.interacting()){if(++c>=s)return false;if(d.interactable===t){if((l+=h===n.name?1:0)>=o)return false;if(d.element===e&&(u++,h===n.name&&u>=a))return false;}}}return s>0;}function ne(t,e){return w.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions;}function re(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null;}function ie(t,e){var n=t.interactable,r=t.element,i=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var o="";if(i.name){var a=n.options[i.name].cursorChecker;o=w.func(a)?a(i,n,r,t._interacting):e.actions.map[i.name].getCursor(i);}re(t.element,o||"",e);}else e.autoStart.cursorElement&&re(e.autoStart.cursorElement,"",e);}var oe={id:"auto-start/base",before:["actions"],install:function install(t){var e=t.interactStatic,n=t.defaults;t.usePlugin($t),n.base.actionChecker=null,n.base.styleCursor=true,V(n.perAction,{manualStart:false,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return ne(e,t);},t.autoStart={maxInteractions:1/0,withinInteractionLimit:ee,cursorElement:null};},listeners:{"interactions:down":function interactionsDown(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.interacting()||te(n,Zt(n,r,i,o,e),e);},"interactions:move":function interactionsMove(t,e){!function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||te(n,Zt(n,r,i,o,e),e);}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!ee(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),ie(n,e)));}}(t,e);},"interactions:stop":function interactionsStop(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&re(n.element,"",e);}},maxInteractions:ne,withinInteractionLimit:ee,validateAction:Jt},ae=oe;var se={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function autoStartBeforeStart(t,e){var n=t.interaction,r=t.eventTarget,i=t.dx,o=t.dy;if("drag"===n.prepared.name){var a=Math.abs(i),s=Math.abs(o),c=n.interactable.options.drag,l=c.startAxis,u=a>s?"x":a<s?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?u[0]:c.lockAxis,"xy"!==u&&"xy"!==l&&l!==u){n.prepared.name=null;for(var p=r,f=function f(t){if(t!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&t.testIgnoreAllow(i,p,r)){var o=t.getAction(n.downPointer,n.downEvent,n,p);if(o&&"drag"===o.name&&function(t,e){if(!e)return false;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t;}(u,t)&&ae.validateAction(o,t,p,r,e))return t;}}};w.element(p);){var d=e.interactables.forEachMatch(p,f);if(d){n.prepared.name="drag",n.interactable=d,n.element=p;break;}p=A(p);}}}}}};function ce(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay;}var le={id:"auto-start/hold",install:function install(t){var e=t.defaults;t.usePlugin(ae),e.perAction.hold=0,e.perAction.delay=0;},listeners:{"interactions:new":function interactionsNew(t){t.interaction.autoStartHoldTimer=null;},"autoStart:prepared":function autoStartPrepared(t){var e=t.interaction,n=ce(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element);},n));},"interactions:move":function interactionsMove(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null);},"autoStart:before-start":function autoStartBeforeStart(t){var e=t.interaction;ce(e)>0&&(e.prepared.name=null);}},getHoldDuration:ce},ue=le,pe={id:"auto-start",install:function install(t){t.usePlugin(ae),t.usePlugin(ue),t.usePlugin(se);}},fe=function fe(t){return /^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):w.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault;};function de(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n);}var he={id:"core/interactablePreventDefault",install:function install(t){var e=t.Interactable;e.prototype.preventDefault=fe,e.prototype.checkAndPreventDefault=function(e){return function(t,e,n){var r=t.options.preventDefault;if("never"!==r)if("always"!==r){if(e.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var i=y(n.target).document,o=e.getDocOptions(i);if(!o||!o.events||false!==o.events.passive)return;}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||w.element(n.target)&&R(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault();}else n.preventDefault();}(this,t,e);},t.interactions.docEvents.push({type:"dragstart",listener:function listener(e){for(var n=0,r=t.interactions.list;n<r.length;n++){var i=r[n];if(i.element&&(i.element===e.target||M(i.element,e.target)))return void i.interactable.checkAndPreventDefault(e);}}});},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=de,t;},{})};function ve(t,e){if(e.phaselessTypes[t])return true;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return true;return false;}function ge(t){var e={};for(var n in t){var r=t[n];w.plainObject(r)?e[n]=ge(r):w.array(r)?e[n]=mt(r):e[n]=r;}return e;}var me=function(){function t(e){r(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=ye(),this.edges={left:false,right:false,top:false,bottom:false};}return o(t,[{key:"start",value:function value(t,e){var n,r,i=t.phase,o=this.interaction,a=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;if(n&&n.length)return n;return["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods};}).filter(function(t){return!!t;});}(o);this.prepareStates(a),this.startEdges=V({},o.edges),this.edges=V({},this.startEdges),this.startOffset=(n=o.rect,r=e,n?{left:r.x-n.left,top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var s=this.fillArg({phase:i,pageCoords:e,preEnd:false});return this.result=ye(),this.startAll(s),this.result=this.setAll(s);}},{key:"fillArg",value:function value(t){var e=this.interaction;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect||(t.rect=e.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t;}},{key:"startAll",value:function value(t){for(var e=0,n=this.states;e<n.length;e++){var r=n[e];r.methods.start&&(t.state=r,r.methods.start(t));}}},{key:"setAll",value:function value(t){var e=t.phase,n=t.preEnd,r=t.skipModifiers,i=t.rect,o=t.edges;t.coords=V({},t.pageCoords),t.rect=V({},i),t.edges=V({},o);for(var a=r?this.states.slice(r):this.states,s=ye(t.coords,t.rect),c=0;c<a.length;c++){var l,u=a[c],p=u.options,f=V({},t.coords),d=null;null!=(l=u.methods)&&l.set&&this.shouldDo(p,n,e)&&(t.state=u,d=u.methods.set(t),H(t.edges,t.rect,{x:t.coords.x-f.x,y:t.coords.y-f.y})),s.eventProps.push(d);}V(this.edges,t.edges),s.delta.x=t.coords.x-t.pageCoords.x,s.delta.y=t.coords.y-t.pageCoords.y,s.rectDelta.left=t.rect.left-i.left,s.rectDelta.right=t.rect.right-i.right,s.rectDelta.top=t.rect.top-i.top,s.rectDelta.bottom=t.rect.bottom-i.bottom;var h=this.result.coords,v=this.result.rect;if(h&&v){var g=s.rect.left!==v.left||s.rect.right!==v.right||s.rect.top!==v.top||s.rect.bottom!==v.bottom;s.changed=g||h.x!==s.coords.x||h.y!==s.coords.y;}return s;}},{key:"applyToInteraction",value:function value(t){var e=this.interaction,n=t.phase,r=e.coords.cur,i=e.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&V(this.startDelta,o.delta);for(var c=0,l=[[i,a],[r,s]];c<l.length;c++){var u=l[c],p=u[0],f=u[1];p.page.x+=f.x,p.page.y+=f.y,p.client.x+=f.x,p.client.y+=f.y;}var d=this.result.rectDelta,h=t.rect||e.rect;h.left+=d.left,h.right+=d.right,h.top+=d.top,h.bottom+=d.bottom,h.width=h.right-h.left,h.height=h.bottom-h.top;}},{key:"setAndApply",value:function value(t){var e=this.interaction,n=t.phase,r=t.preEnd,i=t.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&e.interacting())return false;if(t.modifiedCoords){var a=e.coords.cur.page,s={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y;}this.applyToInteraction(t);}},{key:"beforeEnd",value:function value(t){var e=t.interaction,n=t.event,r=this.states;if(r&&r.length){for(var i=false,o=0;o<r.length;o++){var a=r[o];t.state=a;var s=a.options,c=a.methods,l=c.beforeEnd&&c.beforeEnd(t);if(l)return this.endResult=l,false;i=i||!i&&this.shouldDo(s,true,t.phase,true);}i&&e.move({event:n,preEnd:true});}}},{key:"stop",value:function value(t){var e=t.interaction;if(this.states&&this.states.length){var n=V({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var r=0,i=this.states;r<i.length;r++){var o=i[r];n.state=o,o.methods.stop&&o.methods.stop(n);}this.states=null,this.endResult=null;}}},{key:"prepareStates",value:function value(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:e,name:o});}return this.states;}},{key:"restoreInteractionCoords",value:function value(t){var e=t.interaction,n=e.coords,r=e.rect,i=e.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,c=a.rectDelta,l=0,u=[[n.start,o],[n.cur,s]];l<u.length;l++){var p=u[l],f=p[0],d=p[1];f.page.x-=d.x,f.page.y-=d.y,f.client.x-=d.x,f.client.y-=d.y;}r.left-=c.left,r.right-=c.right,r.top-=c.top,r.bottom-=c.bottom;}}},{key:"shouldDo",value:function value(t,e,n,r){return!(!t||false===t.enabled||r&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart);}},{key:"copyFrom",value:function value(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(function(t){return ge(t);}),this.result=ye(V({},t.result.coords),V({},t.result.rect));}},{key:"destroy",value:function value(){for(var t in this)this[t]=null;}}]),t;}();function ye(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:true};}function be(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},i=function i(t){var i=t||{};for(var o in i.enabled=false!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:e,enable:function enable(){return i.enabled=true,a;},disable:function disable(){return i.enabled=false,a;}};return a;};return e&&"string"==typeof e&&(i._defaults=n,i._methods=r),i;}function xe(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps);}var we={id:"modifiers/base",before:["actions"],install:function install(t){t.defaults.perAction.modifiers=[];},listeners:{"interactions:new":function interactionsNew(t){var e=t.interaction;e.modification=new me(e);},"interactions:before-action-start":function interactionsBeforeActionStart(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t);},"interactions:before-action-move":function interactionsBeforeActionMove(t){var e=t.interaction,n=e.modification,r=n.setAndApply(t);return e.edges=n.edges,r;},"interactions:before-action-end":function interactionsBeforeActionEnd(t){var e=t.interaction,n=e.modification,r=n.beforeEnd(t);return e.edges=n.startEdges,r;},"interactions:action-start":xe,"interactions:action-move":xe,"interactions:action-end":xe,"interactions:after-action-start":function interactionsAfterActionStart(t){return t.interaction.modification.restoreInteractionCoords(t);},"interactions:after-action-move":function interactionsAfterActionMove(t){return t.interaction.modification.restoreInteractionCoords(t);},"interactions:stop":function interactionsStop(t){return t.interaction.modification.stop(t);}}},Ee=we,Te={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:false,origin:{x:0,y:0}},actions:{}},Se=function(t){s(n,t);var e=p(n);function n(t,i,o,a,s,c,l){var p;r(this,n),(p=e.call(this,t)).relatedTarget=null,p.screenX=void 0,p.screenY=void 0,p.button=void 0,p.buttons=void 0,p.ctrlKey=void 0,p.shiftKey=void 0,p.altKey=void 0,p.metaKey=void 0,p.page=void 0,p.client=void 0,p.delta=void 0,p.rect=void 0,p.x0=void 0,p.y0=void 0,p.t0=void 0,p.dt=void 0,p.duration=void 0,p.clientX0=void 0,p.clientY0=void 0,p.velocity=void 0,p.speed=void 0,p.swipe=void 0,p.axes=void 0,p.preEnd=void 0,s=s||t.element;var f=t.interactable,d=(f&&f.options||Te).deltaSource,h=K(f,s,o),v="start"===a,g="end"===a,m=v?u(p):t.prevEvent,y=v?t.coords.start:g?{page:m.page,client:m.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return p.page=V({},y.page),p.client=V({},y.client),p.rect=V({},t.rect),p.timeStamp=y.timeStamp,g||(p.page.x-=h.x,p.page.y-=h.y,p.client.x-=h.x,p.client.y-=h.y),p.ctrlKey=i.ctrlKey,p.altKey=i.altKey,p.shiftKey=i.shiftKey,p.metaKey=i.metaKey,p.button=i.button,p.buttons=i.buttons,p.target=s,p.currentTarget=s,p.preEnd=c,p.type=l||o+(a||""),p.interactable=f,p.t0=v?t.pointers[t.pointers.length-1].downTime:m.t0,p.x0=t.coords.start.page.x-h.x,p.y0=t.coords.start.page.y-h.y,p.clientX0=t.coords.start.client.x-h.x,p.clientY0=t.coords.start.client.y-h.y,p.delta=v||g?{x:0,y:0}:{x:p[d].x-m[d].x,y:p[d].y-m[d].y},p.dt=t.coords.delta.timeStamp,p.duration=p.timeStamp-p.t0,p.velocity=V({},t.coords.velocity[d]),p.speed=Q(p.velocity.x,p.velocity.y),p.swipe=g||"inertiastart"===a?p.getSwipe():null,p;}return o(n,[{key:"getSwipe",value:function value(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}};}},{key:"preventDefault",value:function value(){}},{key:"stopImmediatePropagation",value:function value(){this.immediatePropagationStopped=this.propagationStopped=true;}},{key:"stopPropagation",value:function value(){this.propagationStopped=true;}}]),n;}(vt);Object.defineProperties(Se.prototype,{pageX:{get:function get(){return this.page.x;},set:function set(t){this.page.x=t;}},pageY:{get:function get(){return this.page.y;},set:function set(t){this.page.y=t;}},clientX:{get:function get(){return this.client.x;},set:function set(t){this.client.x=t;}},clientY:{get:function get(){return this.client.y;},set:function set(t){this.client.y=t;}},dx:{get:function get(){return this.delta.x;},set:function set(t){this.delta.x=t;}},dy:{get:function get(){return this.delta.y;},set:function set(t){this.delta.y=t;}},velocityX:{get:function get(){return this.velocity.x;},set:function set(t){this.velocity.x=t;}},velocityY:{get:function get(){return this.velocity.y;},set:function set(t){this.velocity.y=t;}}});var _e=o(function t(e,n,i,o,a){r(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=a;}),Pe=function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t;}({}),Oe=function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t;}({}),ke=0,De=function(){function t(e){var n=this,i=e.pointerType,o=e.scopeFire;r(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=false,this.pointerWasMoved=false,this._interacting=false,this._ending=false,this._stopped=true,this._proxy=void 0,this.simulation=null,this.doMove=Nt(function(t){this.move(t);},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ke++,this._scopeFire=o,this.pointerType=i;var a=this;this._proxy={};var s=function s(t){Object.defineProperty(n._proxy,t,{get:function get(){return a[t];}});};for(var c in Pe)s(c);var l=function l(t){Object.defineProperty(n._proxy,t,{value:function value(){return a[t].apply(a,arguments);}});};for(var u in Oe)l(u);this._scopeFire("interactions:new",{interaction:this});}return o(t,[{key:"pointerMoveTolerance",get:function get(){return 1;}},{key:"pointerDown",value:function value(t,e,n){var r=this.updatePointer(t,e,n,true),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this});}},{key:"start",value:function value(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&(Ut(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?V({},this.prepared.edges):{left:true,right:true,top:true,bottom:true},this._stopped=false,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting);}},{key:"pointerMove",value:function value(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,false);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Q(r,i)>this.pointerMoveTolerance);var a,s,c,l=this.getPointerIndex(t),u={pointer:t,pointerIndex:l,pointerInfo:this.pointers[l],event:e,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||(a=this.coords.velocity,s=this.coords.delta,c=Math.max(s.timeStamp/1e3,.001),a.page.x=s.page.x/c,a.page.y=s.page.y/c,a.client.x=s.client.x/c,a.client.y=s.client.y/c,a.timeStamp=c),this._scopeFire("interactions:move",u),o||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&et(this.coords.prev,this.coords.cur));}},{key:"move",value:function value(t){t&&t.event||nt(this.coords.delta),(t=V({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t);}},{key:"pointerUp",value:function value(t,e,n,r){var i=this.getPointerIndex(t);-1===i&&(i=this.updatePointer(t,e,n,false));var o=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:t,pointerIndex:i,pointerInfo:this.pointers[i],event:e,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e);}},{key:"documentBlur",value:function value(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this});}},{key:"end",value:function value(t){var e;this._ending=true,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=false,true===e&&this.stop();}},{key:"currentAction",value:function value(){return this._interacting?this.prepared.name:null;}},{key:"interacting",value:function value(){return this._interacting;}},{key:"stop",value:function value(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=false,this._stopped=true,this.prepared.name=this.prevEvent=null;}},{key:"getPointerIndex",value:function value(t){var e=at(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:yt(this.pointers,function(t){return t.id===e;});}},{key:"getPointerInfo",value:function value(t){return this.pointers[this.getPointerIndex(t)];}},{key:"updatePointer",value:function value(t,e,n,r){var i,o,a,s=at(t),c=this.getPointerIndex(t),l=this.pointers[c];return r=false!==r&&(r||/(down|start)$/i.test(e.type)),l?l.pointer=t:(l=new _e(s,t,e,null,null),c=this.pointers.length,this.pointers.push(l)),st(this.coords.cur,this.pointers.map(function(t){return t.pointer;}),this._now()),i=this.coords.delta,o=this.coords.prev,a=this.coords.cur,i.page.x=a.page.x-o.page.x,i.page.y=a.page.y-o.page.y,i.client.x=a.client.x-o.client.x,i.client.y=a.client.y-o.client.y,i.timeStamp=a.timeStamp-o.timeStamp,r&&(this.pointerIsDown=true,l.downTime=this.coords.cur.timeStamp,l.downTarget=n,tt(this.downPointer,t),this.interacting()||(et(this.coords.start,this.coords.cur),et(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=false)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:l,pointerIndex:c,interaction:this}),c;}},{key:"removePointer",value:function value(t,e){var n=this.getPointerIndex(t);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=false;}}},{key:"_updateLatestPointer",value:function value(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n;}},{key:"destroy",value:function value(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null;}},{key:"_createPreparedEvent",value:function value(t,e,n,r){return new Se(this,t,this.prepared.name,e,this.element,n,r);}},{key:"_fireEvent",value:function value(t){var e;null==(e=this.interactable)||e.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t);}},{key:"_doPhase",value:function value(t){var e=t.event,n=t.phase,r=t.preEnd,i=t.type,o=this.rect;if(o&&"move"===n&&(H(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),false===this._scopeFire("interactions:before-action-".concat(n),t))return false;var a=t.iEvent=this._createPreparedEvent(e,n,r,i);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),t),true;}},{key:"_now",value:function value(){return Date.now();}}]),t;}();function Ie(t){Me(t.interaction);}function Me(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y);}(t))return false;var e=t.offset.pending;return Ae(t.coords.cur,e),Ae(t.coords.delta,e),H(t.edges,t.rect,e),e.x=0,e.y=0,true;}function ze(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n;}function Ae(t,e){var n=t.page,r=t.client,i=e.x,o=e.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o;}Oe.offsetBy="";var Re={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function install(t){t.Interaction.prototype.offsetBy=ze;},listeners:{"interactions:new":function interactionsNew(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}};},"interactions:update-pointer":function interactionsUpdatePointer(t){return function(t){t.pointerIsDown&&(Ae(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0);}(t.interaction);},"interactions:before-action-start":Ie,"interactions:before-action-move":Ie,"interactions:before-action-end":function interactionsBeforeActionEnd(t){var e=t.interaction;if(Me(e))return e.move({offset:true}),e.end(),false;},"interactions:stop":function interactionsStop(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0;}}},Ce=Re;var je=function(){function t(e){r(this,t),this.active=false,this.isModified=false,this.smoothEnd=false,this.allowResume=false,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e;}return o(t,[{key:"start",value:function value(t){var e=this.interaction,n=Fe(e);if(!n||!n.enabled)return false;var r=e.coords.velocity.client,i=Q(r.x,r.y),o=this.modification||(this.modification=new me(e));if(o.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:true,phase:"inertiastart"}),this.t0-e.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return false;this.startSmoothEnd();}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=true,e.simulation=this,true;}},{key:"startInertia",value:function value(){var t=this,e=this.interaction.coords.velocity.client,n=Fe(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(e.x-i)/r,y:(e.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=true,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame(function(){return t.inertiaTick();});}},{key:"startSmoothEnd",value:function value(){var t=this;this.smoothEnd=true,this.isModified=true,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return t.smoothEndTick();});}},{key:"onNextFrame",value:function value(t){var e=this;this.timeout=Lt.request(function(){e.active&&t();});}},{key:"inertiaTick",value:function value(){var t,e,n,r,i,o,a,s=this,c=this.interaction,l=Fe(c).resistance,u=(c._now()-this.t0)/1e3;if(u<this.te){var p,f=1-(Math.exp(-l*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=0,e=0,n=this.targetOffset.x,r=this.targetOffset.y,i=this.modifiedOffset.x,o=this.modifiedOffset.y,p={x:Ye(a=f,t,n,i),y:Ye(a,e,r,o)}):p={x:this.targetOffset.x*f,y:this.targetOffset.y*f};var d={x:p.x-this.currentOffset.x,y:p.y-this.currentOffset.y};this.currentOffset.x+=d.x,this.currentOffset.y+=d.y,c.offsetBy(d),c.move(),this.onNextFrame(function(){return s.inertiaTick();});}else c.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end();}},{key:"smoothEndTick",value:function value(){var t=this,e=this.interaction,n=e._now()-this.t0,r=Fe(e).smoothEndDuration;if(n<r){var i={x:Le(n,0,this.targetOffset.x,r),y:Le(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,e.offsetBy(o),e.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return t.smoothEndTick();});}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end();}},{key:"resume",value:function value(t){var e=t.pointer,n=t.event,r=t.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,n,r,true),i._doPhase({interaction:i,event:n,phase:"resume"}),et(i.coords.prev,i.coords.cur),this.stop();}},{key:"end",value:function value(){this.interaction.move(),this.interaction.end(),this.stop();}},{key:"stop",value:function value(){this.active=this.smoothEnd=false,this.interaction.simulation=null,Lt.cancel(this.timeout);}}]),t;}();function Fe(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia;}var Xe={id:"inertia",before:["modifiers","actions"],install:function install(t){var e=t.defaults;t.usePlugin(Ce),t.usePlugin(Ee),t.actions.phases.inertiastart=true,t.actions.phases.resume=true,e.perAction.inertia={enabled:false,resistance:10,minSpeed:100,endSpeed:10,allowResume:true,smoothEndDuration:300};},listeners:{"interactions:new":function interactionsNew(t){var e=t.interaction;e.inertia=new je(e);},"interactions:before-action-end":function interactionsBeforeActionEnd(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null;},"interactions:down":function interactionsDown(t){var e=t.interaction,n=t.eventTarget,r=e.inertia;if(r.active)for(var i=n;w.element(i);){if(i===e.element){r.resume(t);break;}i=A(i);}},"interactions:stop":function interactionsStop(t){var e=t.interaction.inertia;e.active&&e.stop();},"interactions:before-action-resume":function interactionsBeforeActionResume(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t);},"interactions:before-action-inertiastart":function interactionsBeforeActionInertiastart(t){return t.interaction.modification.setAndApply(t);},"interactions:action-resume":xe,"interactions:action-inertiastart":xe,"interactions:after-action-inertiastart":function interactionsAfterActionInertiastart(t){return t.interaction.modification.restoreInteractionCoords(t);},"interactions:after-action-resume":function interactionsAfterActionResume(t){return t.interaction.modification.restoreInteractionCoords(t);}}};function Ye(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r;}function Le(t,e,n,r){return-n*(t/=r)*(t-2)+e;}var qe=Xe;function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t);}}var Ve=function(){function t(e){r(this,t),this.options=void 0,this.types={},this.propagationStopped=false,this.immediatePropagationStopped=false,this.global=void 0,this.options=V({},e||{});}return o(t,[{key:"fire",value:function value(t){var e,n=this.global;(e=this.types[t.type])&&Be(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&Be(t,e);}},{key:"on",value:function value(t,e){var n=$(t,e);for(t in n)this.types[t]=gt(this.types[t]||[],n[t]);}},{key:"off",value:function value(t,e){var n=$(t,e);for(t in n){var r=this.types[t];if(r&&r.length)for(var i=0,o=n[t];i<o.length;i++){var a=o[i],s=r.indexOf(a);-1!==s&&r.splice(s,1);}}}},{key:"getRect",value:function value(t){return null;}}]),t;}();var We=function(){function t(e){r(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,tt(this,e);}return o(t,[{key:"preventOriginalDefault",value:function value(){this.originalEvent.preventDefault();}},{key:"stopPropagation",value:function value(){this.originalEvent.stopPropagation();}},{key:"stopImmediatePropagation",value:function value(){this.originalEvent.stopImmediatePropagation();}}]),t;}();function Ge(t){return w.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:false};}function Ne(t,e){return t===e||("boolean"==typeof t?!!e.capture===t&&false==!!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive);}var Ue={id:"events",install:function install(t){var e,n=[],r={},i=[],o={add:a,remove:s,addDelegate:function addDelegate(t,e,n,o,s){var u=Ge(s);if(!r[n]){r[n]=[];for(var p=0;p<i.length;p++){var f=i[p];a(f,n,c),a(f,n,l,true);}}var d=r[n],h=bt(d,function(n){return n.selector===t&&n.context===e;});h||(h={selector:t,context:e,listeners:[]},d.push(h));h.listeners.push({func:o,options:u});},removeDelegate:function removeDelegate(t,e,n,i,o){var a,u=Ge(o),p=r[n],f=false;if(!p)return;for(a=p.length-1;a>=0;a--){var d=p[a];if(d.selector===t&&d.context===e){for(var h=d.listeners,v=h.length-1;v>=0;v--){var g=h[v];if(g.func===i&&Ne(g.options,u)){h.splice(v,1),h.length||(p.splice(a,1),s(e,n,c),s(e,n,l,true)),f=true;break;}}if(f)break;}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:r,documents:i,targets:n,supportsOptions:false,supportsPassive:false};function a(t,e,r,i){if(t.addEventListener){var a=Ge(i),s=bt(n,function(e){return e.eventTarget===t;});s||(s={eventTarget:t,events:{}},n.push(s)),s.events[e]||(s.events[e]=[]),bt(s.events[e],function(t){return t.func===r&&Ne(t.options,a);})||(t.addEventListener(e,r,o.supportsOptions?a:a.capture),s.events[e].push({func:r,options:a}));}}function s(t,e,r,i){if(t.addEventListener&&t.removeEventListener){var a=yt(n,function(e){return e.eventTarget===t;}),c=n[a];if(c&&c.events)if("all"!==e){var l=false,u=c.events[e];if(u){if("all"===r){for(var p=u.length-1;p>=0;p--){var f=u[p];s(t,e,f.func,f.options);}return;}for(var d=Ge(i),h=0;h<u.length;h++){var v=u[h];if(v.func===r&&Ne(v.options,d)){t.removeEventListener(e,r,o.supportsOptions?d:d.capture),u.splice(h,1),0===u.length&&(delete c.events[e],l=true);break;}}}l&&!Object.keys(c.events).length&&n.splice(a,1);}else for(e in c.events)c.events.hasOwnProperty(e)&&s(t,e,"all");}}function c(t,e){for(var n=Ge(e),i=new We(t),o=r[t.type],a=ht(t)[0],s=a;w.element(s);){for(var c=0;c<o.length;c++){var l=o[c],u=l.selector,p=l.context;if(R(s,u)&&M(p,a)&&M(p,s)){var f=l.listeners;i.currentTarget=s;for(var d=0;d<f.length;d++){var h=f[d];Ne(h.options,n)&&h.func(i);}}}s=A(s);}}function l(t){return c(t,true);}return null==(e=t.document)||e.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=true;},get passive(){return o.supportsPassive=true;}}),t.events=o,o;}},He={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function search(t){for(var e=0,n=He.methodOrder;e<n.length;e++){var r=n[e],i=He[r](t);if(i)return i;}return null;},simulationResume:function simulationResume(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,i=t.scope;if(!/down|start/i.test(n))return null;for(var o=0,a=i.interactions.list;o<a.length;o++){var s=a[o],c=r;if(s.simulation&&s.simulation.allowResume&&s.pointerType===e)for(;c;){if(c===s.element)return s;c=A(c);}}return null;},mouseOrPen:function mouseOrPen(t){var e,n=t.pointerId,r=t.pointerType,i=t.eventType,o=t.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0,s=o.interactions.list;a<s.length;a++){var c=s[a];if(c.pointerType===r){if(c.simulation&&!Ke(c,n))continue;if(c.interacting())return c;e||(e=c);}}if(e)return e;for(var l=0,u=o.interactions.list;l<u.length;l++){var p=u[l];if(!(p.pointerType!==r||/down/i.test(i)&&p.simulation))return p;}return null;},hasPointer:function hasPointer(t){for(var e=t.pointerId,n=0,r=t.scope.interactions.list;n<r.length;n++){var i=r[n];if(Ke(i,e))return i;}return null;},idle:function idle(t){for(var e=t.pointerType,n=0,r=t.scope.interactions.list;n<r.length;n++){var i=r[n];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue;}else if(i.pointers.length>=2)continue;if(!i.interacting()&&e===i.pointerType)return i;}return null;}};function Ke(t,e){return t.pointers.some(function(t){return t.id===e;});}var $e=He,Je=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Qe(t,e){return function(n){var r=e.interactions.list,i=dt(n),o=ht(n),a=o[0],s=o[1],c=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var l=0,u=n.changedTouches;l<u.length;l++){var p=u[l],f={pointer:p,pointerId:at(p),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:e},d=Ze(f);c.push([f.pointer,f.eventTarget,f.curEventTarget,d]);}}else{var h=false;if(!I.supportsPointerEvent&&/mouse/.test(n.type)){for(var v=0;v<r.length&&!h;v++)h="mouse"!==r[v].pointerType&&r[v].pointerIsDown;h=h||e.now()-e.prevTouchTime<500||0===n.timeStamp;}if(!h){var g={pointer:n,pointerId:at(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:e},m=Ze(g);c.push([g.pointer,g.eventTarget,g.curEventTarget,m]);}}for(var y=0;y<c.length;y++){var b=c[y],x=b[0],w=b[1],E=b[2];b[3][t](x,n,w,E);}};}function Ze(t){var e=t.pointerType,n=t.scope,r={interaction:$e.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions["new"]({pointerType:e});}function tn(t,e){var n=t.doc,r=t.scope,i=t.options,o=r.interactions.docEvents,a=r.events,s=a[e];for(var c in r.browser.isIOS&&!i.events&&(i.events={passive:false}),a.delegatedEvents)s(n,c,a.delegateListener),s(n,c,a.delegateUseCapture,true);for(var l=i&&i.events,u=0;u<o.length;u++){var p=o[u];s(n,p.type,p.listener,l);}}var en={id:"core/interactions",install:function install(t){for(var e={},n=0;n<Je.length;n++){var i=Je[n];e[i]=Qe(i,t);}var a,c=I.pEventTypes;function l(){for(var e=0,n=t.interactions.list;e<n.length;e++){var r=n[e];if(r.pointerIsDown&&"touch"===r.pointerType&&!r._interacting)for(var i=function i(){var e=a[o];t.documents.some(function(t){return M(t.doc,e.downTarget);})||r.removePointer(e.pointer,e.event);},o=0,a=r.pointers;o<a.length;o++)i();}}(a=k.PointerEvent?[{type:c.down,listener:l},{type:c.down,listener:e.pointerDown},{type:c.move,listener:e.pointerMove},{type:c.up,listener:e.pointerUp},{type:c.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function listener(e){for(var n=0,r=t.interactions.list;n<r.length;n++){r[n].documentBlur(e);}}}),t.prevTouchTime=0,t.Interaction=function(e){s(i,e);var n=p(i);function i(){return r(this,i),n.apply(this,arguments);}return o(i,[{key:"pointerMoveTolerance",get:function get(){return t.interactions.pointerMoveTolerance;},set:function set(e){t.interactions.pointerMoveTolerance=e;}},{key:"_now",value:function value(){return t.now();}}]),i;}(De),t.interactions={list:[],"new":function _new(e){e.scopeFire=function(e,n){return t.fire(e,n);};var n=new t.Interaction(e);return t.interactions.list.push(n),n;},listeners:e,docEvents:a,pointerMoveTolerance:1},t.usePlugin(he);},listeners:{"scope:add-document":function scopeAddDocument(t){return tn(t,"add");},"scope:remove-document":function scopeRemoveDocument(t){return tn(t,"remove");},"interactable:unset":function interactableUnset(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var i=e.interactions.list[r];i.interactable===n&&(i.stop(),e.fire("interactions:destroy",{interaction:i}),i.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1));}}},onDocSignal:tn,doOnInteractions:Qe,methodNames:Je},nn=en,rn=function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t;}(rn||{}),on=function(){function t(e,n,i,o){r(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Ve(),this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=e,this._context=n.context||i,this._win=y(B(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(n);}return o(t,[{key:"_defaults",get:function get(){return{base:{},perAction:{},actions:{}};}},{key:"setOnEvents",value:function value(t,e){return w.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),w.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),w.func(e.onend)&&this.on("".concat(t,"end"),e.onend),w.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this;}},{key:"updatePerActionListeners",value:function value(t,e,n){var r,i=this,o=null==(r=this._actions.map[t])?void 0:r.filterEventType,a=function a(t){return(null==o||o(t))&&ve(t,i._actions);};(w.array(e)||w.object(e))&&this._onOff(rn.Off,t,e,void 0,a),(w.array(n)||w.object(n))&&this._onOff(rn.On,t,n,void 0,a);}},{key:"setPerAction",value:function value(t,e){var n=this._defaults;for(var r in e){var i=r,o=this.options[t],a=e[i];"listeners"===i&&this.updatePerActionListeners(t,o.listeners,a),w.array(a)?o[i]=mt(a):w.plainObject(a)?(o[i]=V(o[i]||{},ge(a)),w.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(o[i].enabled=false!==a.enabled)):w.bool(a)&&w.object(n.perAction[i])?o[i].enabled=a:o[i]=a;}}},{key:"getRect",value:function value(t){return t=t||(w.element(this.target)?this.target:null),w.string(this.target)&&(t=t||this._context.querySelector(this.target)),L(t);}},{key:"rectChecker",value:function value(t){var e=this;return w.func(t)?(this.getRect=function(n){var r=V({},t.apply(e,n));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r;},this):null===t?(delete this.getRect,this):this.getRect;}},{key:"_backCompatOption",value:function value(t,e){if(B(e)||w.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this;}return this.options[t];}},{key:"origin",value:function value(t){return this._backCompatOption("origin",t);}},{key:"deltaSource",value:function value(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource;}},{key:"getAllElements",value:function value(){var t=this.target;return w.string(t)?Array.from(this._context.querySelectorAll(t)):w.func(t)&&t.getAllElements?t.getAllElements():w.element(t)?[t]:[];}},{key:"context",value:function value(){return this._context;}},{key:"inContext",value:function value(t){return this._context===t.ownerDocument||M(this._context,t);}},{key:"testIgnoreAllow",value:function value(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n);}},{key:"testAllow",value:function value(t,e,n){return!t||!!w.element(n)&&(w.string(t)?F(n,t,e):!!w.element(t)&&M(t,n));}},{key:"testIgnore",value:function value(t,e,n){return!(!t||!w.element(n))&&(w.string(t)?F(n,t,e):!!w.element(t)&&M(t,n));}},{key:"fire",value:function value(t){return this.events.fire(t),this;}},{key:"_onOff",value:function value(t,e,n,r,i){w.object(e)&&!w.array(e)&&(r=n,n=null);var o=$(e,n,i);for(var a in o){"wheel"===a&&(a=I.wheelEvent);for(var s=0,c=o[a];s<c.length;s++){var l=c[s];ve(a,this._actions)?this.events[t===rn.On?"on":"off"](a,l):w.string(this.target)?this._scopeEvents[t===rn.On?"addDelegate":"removeDelegate"](this.target,this._context,a,l,r):this._scopeEvents[t===rn.On?"add":"remove"](this.target,a,l,r);}}return this;}},{key:"on",value:function value(t,e,n){return this._onOff(rn.On,t,e,n);}},{key:"off",value:function value(t,e,n){return this._onOff(rn.Off,t,e,n);}},{key:"set",value:function value(t){var e=this._defaults;for(var n in w.object(t)||(t={}),this.options=ge(e.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,V(V({},e.perAction),e.actions[r])),this[i](t[r]);}for(var o in t)"getRect"!==o?w.func(this[o])&&this[o](t[o]):this.rectChecker(t.getRect);return this;}},{key:"unset",value:function value(){if(w.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var r=e[n],i=r.selector,o=r.context,a=r.listeners;i===this.target&&o===this._context&&e.splice(n,1);for(var s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[s][0],a[s][1]);}else this._scopeEvents.remove(this.target,"all");}}]),t;}(),an=function(){function t(e){var n=this;r(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function interactableUnset(t){var e=t.interactable,r=e.target,i=w.string(r)?n.selectorMap[r]:r[n.scope.id],o=yt(i,function(t){return t===e;});i.splice(o,1);}});}return o(t,[{key:"new",value:function value(t,e){e=V(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),w.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(n)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:true}),t[this.scope.id].push(n)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n;}},{key:"getExisting",value:function value(t,e){var n=e&&e.context||this.scope.document,r=w.string(t),i=r?this.selectorMap[t]:t[this.scope.id];if(i)return bt(i,function(e){return e._context===n&&(r||e.inContext(t));});}},{key:"forEachMatch",value:function value(t,e){for(var n=0,r=this.list;n<r.length;n++){var i=r[n],o=void 0;if((w.string(i.target)?w.element(t)&&R(t,i.target):t===i.target)&&i.inContext(t)&&(o=e(i)),void 0!==o)return o;}}}]),t;}();var sn=function(){function t(){var e=this;r(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=false,this.listenerMaps=[],this.browser=I,this.defaults=ge(Te),this.Eventable=Ve,this.actions={map:{},phases:{start:true,move:true,end:true},methodDict:{},phaselessTypes:{}},this.interactStatic=function(t){var e=function e(n,r){var i=t.interactables.getExisting(n,r);return i||((i=t.interactables["new"](n,r)).events.global=e.globalEvents),i;};return e.getPointerAverage=lt,e.getTouchBBox=ut,e.getTouchDistance=pt,e.getTouchAngle=ft,e.getElementRect=L,e.getElementClientRect=Y,e.matchesSelector=R,e.closest=z,e.globalEvents={},e.version="1.10.27",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this;},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context);},e.on=Nt(function(t,e,n){if(w.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),w.array(t)){for(var r=0,i=t;r<i.length;r++){var o=i[r];this.on(o,e,n);}return this;}if(w.object(t)){for(var a in t)this.on(a,t[a],e);return this;}return ve(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this;},"The interact.on() method is being deprecated"),e.off=Nt(function(t,e,n){if(w.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),w.array(t)){for(var r=0,i=t;r<i.length;r++){var o=i[r];this.off(o,e,n);}return this;}if(w.object(t)){for(var a in t)this.off(a,t[a],e);return this;}var s;return ve(t,this.scope.actions)?t in this.globalEvents&&-1!==(s=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(s,1):this.scope.events.remove(this.scope.document,t,e,n),this;},"The interact.off() method is being deprecated"),e.debug=function(){return this.scope;},e.supportsTouch=function(){return I.supportsTouch;},e.supportsPointerEvent=function(){return I.supportsPointerEvent;},e.stop=function(){for(var t=0,e=this.scope.interactions.list;t<e.length;t++)e[t].stop();return this;},e.pointerMoveTolerance=function(t){return w.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance;},e.addDocument=function(t,e){this.scope.addDocument(t,e);},e.removeDocument=function(t){this.scope.removeDocument(t);},e;}(this),this.InteractEvent=Se,this.Interactable=void 0,this.interactables=new an(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(t){return e.removeDocument(t.target);};var n=this;this.Interactable=function(t){s(i,t);var e=p(i);function i(){return r(this,i),e.apply(this,arguments);}return o(i,[{key:"_defaults",get:function get(){return n.defaults;}},{key:"set",value:function value(t){return f(c(i.prototype),"set",this).call(this,t),n.fire("interactable:set",{options:t,interactable:this}),this;}},{key:"unset",value:function value(){f(c(i.prototype),"unset",this).call(this);var t=n.interactables.list.indexOf(this);t<0||(n.interactables.list.splice(t,1),n.fire("interactable:unset",{interactable:this}));}}]),i;}(on);}return o(t,[{key:"addListeners",value:function value(t,e){this.listenerMaps.push({id:e,map:t});}},{key:"fire",value:function value(t,e){for(var n=0,r=this.listenerMaps;n<r.length;n++){var i=r[n].map[t];if(i&&false===i(e,this,t))return false;}}},{key:"init",value:function value(t){return this.isInitialized?this:function(t,e){t.isInitialized=true,w.window(e)&&m(e);return k.init(e),I.init(e),Lt.init(e),t.window=e,t.document=e.document,t.usePlugin(nn),t.usePlugin(Ue),t;}(this,t);}},{key:"pluginIsInstalled",value:function value(t){var e=t.id;return e?!!this._plugins.map[e]:-1!==this._plugins.list.indexOf(t);}},{key:"usePlugin",value:function value(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,i=t.before.reduce(function(t,e){return t[e]=true,t[cn(e)]=true,t;},{});n<r;n++){var o=this.listenerMaps[n].id;if(o&&(i[o]||i[cn(o)]))break;}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners});}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this;}},{key:"addDocument",value:function value(t,e){if(-1!==this.getDocIndex(t))return false;var n=y(t);e=e?V({},e):{},this.documents.push({doc:t,options:e}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:e});}},{key:"removeDocument",value:function value(t){var e=this.getDocIndex(t),n=y(t),r=this.documents[e].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(e,1),this.events.documents.splice(e,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:r});}},{key:"getDocIndex",value:function value(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1;}},{key:"getDocOptions",value:function value(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options;}},{key:"now",value:function value(){return(this.window.Date||Date).now();}}]),t;}();function cn(t){return t&&t.replace(/\/.*$/,"");}var ln=new sn(),un=ln.interactStatic,pn="undefined"!=typeof globalThis?globalThis:window;ln.init(pn);var fn=Object.freeze({__proto__:null,edgeTarget:function edgeTarget(){},elements:function elements(){},grid:function grid(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(e){var n=e[0],r=e[1];return n in t||r in t;}),n=function n(_n5,r){for(var i=t.range,o=t.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=t.offset,c=void 0===s?{x:0,y:0}:s,l={range:i,grid:t,x:null,y:null},u=0;u<e.length;u++){var p=e[u],f=p[0],d=p[1],h=Math.round((_n5-c.x)/t[f]),v=Math.round((r-c.y)/t[d]);l[f]=Math.max(a.left,Math.min(a.right,h*t[f]+c.x)),l[d]=Math.max(a.top,Math.min(a.bottom,v*t[d]+c.y));}return l;};return n.grid=t,n.coordFields=e,n;}}),dn={id:"snappers",install:function install(t){var e=t.interactStatic;e.snappers=V(e.snappers||{},fn),e.createSnapGrid=e.snappers.grid;}},hn=dn,vn={start:function start(t){var n=t.state,r=t.rect,i=t.edges,o=t.pageCoords,a=n.options,s=a.ratio,c=a.enabled,l=n.options,u=l.equalDelta,p=l.modifiers;"preserve"===s&&(s=r.width/r.height),n.startCoords=V({},o),n.startRect=V({},r),n.ratio=s,n.equalDelta=u;var f=n.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(n.xIsPrimaryAxis=!(!i.left&&!i.right),n.equalDelta){var d=(f.left?1:-1)*(f.top?1:-1);n.edgeSign={x:d,y:d};}else n.edgeSign={x:f.left?-1:1,y:f.top?-1:1};if(false!==c&&V(i,f),null!=p&&p.length){var h=new me(t.interaction);h.copyFrom(t.interaction.modification),h.prepareStates(p),n.subModification=h,h.startAll(e({},t));}},set:function set(t){var n=t.state,r=t.rect,i=t.coords,o=n.linkedEdges,a=V({},i),s=n.equalDelta?gn:mn;if(V(t.edges,o),s(n,n.xIsPrimaryAxis,i,r),!n.subModification)return null;var c=V({},r);H(o,c,{x:i.x-a.x,y:i.y-a.y});var l=n.subModification.setAll(e(e({},t),{},{rect:c,edges:o,pageCoords:i,prevCoords:i,prevRect:c})),u=l.delta;l.changed&&(s(n,Math.abs(u.x)>Math.abs(u.y),l.coords,l.rect),V(i,l.coords));return l.eventProps;},defaults:{ratio:"preserve",equalDelta:false,modifiers:[],enabled:false}};function gn(t,e,n){var r=t.startCoords,i=t.edgeSign;e?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x;}function mn(t,e,n,r){var i=t.startRect,o=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var c=r.width/a;n.y=o.y+(c-i.height)*s.y;}else{var l=r.height*a;n.x=o.x+(l-i.width)*s.x;}}var yn=be(vn,"aspectRatio"),bn=function bn(){};bn._defaults={};var xn=bn;function wn(t,e,n){return w.func(t)?G(t,e.interactable,e.element,[n.x,n.y,e]):G(t,e.interactable,e.element);}var En={start:function start(t){var e=t.rect,n=t.startOffset,r=t.state,i=t.interaction,o=t.pageCoords,a=r.options,s=a.elementRect,c=V({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var l=wn(a.restriction,i,o);if(l){var u=l.right-l.left-e.width,p=l.bottom-l.top-e.height;u<0&&(c.left+=u,c.right+=u),p<0&&(c.top+=p,c.bottom+=p);}c.left+=n.left-e.width*s.left,c.top+=n.top-e.height*s.top,c.right+=n.right-e.width*(1-s.right),c.bottom+=n.bottom-e.height*(1-s.bottom);}r.offset=c;},set:function set(t){var e=t.coords,n=t.interaction,r=t.state,i=r.options,o=r.offset,a=wn(i.restriction,n,e);if(a){var s=function(t){return!t||"left"in t&&"top"in t||((t=V({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t;}(a);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top);}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:false,enabled:false}},Tn=be(En,"restrict"),Sn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},_n={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Pn(t,e){for(var n=0,r=["top","left","bottom","right"];n<r.length;n++){var i=r[n];i in t||(t[i]=e[i]);}return t;}var On={noInner:Sn,noOuter:_n,start:function start(t){var e,n=t.interaction,r=t.startOffset,i=t.state,o=i.options;o&&(e=N(wn(o.offset,n,n.coords.start.page))),e=e||{x:0,y:0},i.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right};},set:function set(t){var e=t.coords,n=t.edges,r=t.interaction,i=t.state,o=i.offset,a=i.options;if(n){var s=V({},e),c=wn(a.inner,r,s)||{},l=wn(a.outer,r,s)||{};Pn(c,Sn),Pn(l,_n),n.top?e.y=Math.min(Math.max(l.top+o.top,s.y),c.top+o.top):n.bottom&&(e.y=Math.max(Math.min(l.bottom+o.bottom,s.y),c.bottom+o.bottom)),n.left?e.x=Math.min(Math.max(l.left+o.left,s.x),c.left+o.left):n.right&&(e.x=Math.max(Math.min(l.right+o.right,s.x),c.right+o.right));}},defaults:{inner:null,outer:null,offset:null,endOnly:false,enabled:false}},kn=be(On,"restrictEdges"),Dn=V({get elementRect(){return{top:0,left:0,bottom:1,right:1};},set elementRect(t){}},En.defaults),In=be({start:En.start,set:En.set,defaults:Dn},"restrictRect"),Mn={width:-1/0,height:-1/0},zn={width:1/0,height:1/0};var An=be({start:function start(t){return On.start(t);},set:function set(t){var e=t.interaction,n=t.state,r=t.rect,i=t.edges,o=n.options;if(i){var a=U(wn(o.min,e,t.coords))||Mn,s=U(wn(o.max,e,t.coords))||zn;n.options={endOnly:o.endOnly,inner:V({},On.noInner),outer:V({},On.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),On.set(t),n.options=o;}},defaults:{min:null,max:null,endOnly:false,enabled:false}},"restrictSize");var Rn={start:function start(t){var e,n=t.interaction,r=t.interactable,i=t.element,o=t.rect,a=t.state,s=t.startOffset,c=a.options,l=c.offsetWithOrigin?function(t){var e=t.interaction.element,n=N(G(t.state.options.origin,null,null,[e])),r=n||K(t.interactable,e,t.interaction.prepared.name);return r;}(t):{x:0,y:0};if("startCoords"===c.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var u=G(c.offset,r,i,[n]);(e=N(u)||{x:0,y:0}).x+=l.x,e.y+=l.y;}var p=c.relativePoints;a.offsets=o&&p&&p.length?p.map(function(t,n){return{index:n,relativePoint:t,x:s.left-o.width*t.x+e.x,y:s.top-o.height*t.y+e.y};}):[{index:0,relativePoint:null,x:e.x,y:e.y}];},set:function set(t){var e=t.interaction,n=t.coords,r=t.state,i=r.options,o=r.offsets,a=K(e.interactable,e.element,e.prepared.name),s=V({},n),c=[];i.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(var l=0,u=o;l<u.length;l++)for(var p=u[l],f=s.x-p.x,d=s.y-p.y,h=0,v=i.targets.length;h<v;h++){var g=i.targets[h],m=void 0;(m=w.func(g)?g(f,d,e._proxy,p,h):g)&&c.push({x:(w.number(m.x)?m.x:f)+p.x,y:(w.number(m.y)?m.y:d)+p.y,range:w.number(m.range)?m.range:i.range,source:g,index:h,offset:p});}for(var y={target:null,inRange:false,distance:0,range:0,delta:{x:0,y:0}},b=0;b<c.length;b++){var x=c[b],E=x.range,T=x.x-s.x,S=x.y-s.y,_=Q(T,S),P=_<=E;E===1/0&&y.inRange&&y.range!==1/0&&(P=false),y.target&&!(P?y.inRange&&E!==1/0?_/E<y.distance/y.range:E===1/0&&y.range!==1/0||_<y.distance:!y.inRange&&_<y.distance)||(y.target=x,y.distance=_,y.range=E,y.inRange=P,y.delta.x=T,y.delta.y=S);}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y,y;},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:true,origin:null,relativePoints:null,endOnly:false,enabled:false}},Cn=be(Rn,"snap");var jn={start:function start(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Rn.start(t),e.offsets=t.state.offsets,t.state=e;},set:function set(t){var e=t.interaction,n=t.state,r=t.coords,i=n.options,o=n.offsets,a={x:r.x-o[0].x,y:r.y-o[0].y};n.options=V({},i),n.options.targets=[];for(var s=0,c=i.targets||[];s<c.length;s++){var l=c[s],u=void 0;if(u=w.func(l)?l(a.x,a.y,e):l){for(var p=0,f=n.targetFields;p<f.length;p++){var d=f[p],h=d[0],v=d[1];if(h in u||v in u){u.x=u[h],u.y=u[v];break;}}n.options.targets.push(u);}}var g=Rn.set(t);return n.options=i,g;},defaults:{range:1/0,targets:null,offset:null,endOnly:false,enabled:false}},Fn=be(jn,"snapSize");var Xn={aspectRatio:yn,restrictEdges:kn,restrict:Tn,restrictRect:In,restrictSize:An,snapEdges:be({start:function start(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],jn.start(t)):null;},set:jn.set,defaults:V(ge(jn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Cn,snapSize:Fn,spring:xn,avoid:xn,transform:xn,rubberband:xn},Yn={id:"modifiers",install:function install(t){var e=t.interactStatic;for(var n in t.usePlugin(Ee),t.usePlugin(hn),e.modifiers=Xn,Xn){var r=Xn[n],i=r._defaults,o=r._methods;i._methods=o,t.defaults.perAction[n]=i;}}},Ln=Yn,qn=function(t){s(n,t);var e=p(n);function n(t,i,o,a,s,c){var l;if(r(this,n),tt(u(l=e.call(this,s)),o),o!==i&&tt(u(l),i),l.timeStamp=c,l.originalEvent=o,l.type=t,l.pointerId=at(i),l.pointerType=dt(i),l.target=a,l.currentTarget=null,"tap"===t){var p=s.getPointerIndex(i);l.dt=l.timeStamp-s.pointers[p].downTime;var f=l.timeStamp-s.tapTime;l["double"]=!!s.prevTap&&"doubletap"!==s.prevTap.type&&s.prevTap.target===l.target&&f<500;}else"doubletap"===t&&(l.dt=i.timeStamp-s.tapTime,l["double"]=true);return l;}return o(n,[{key:"_subtractOrigin",value:function value(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this;}},{key:"_addOrigin",value:function value(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this;}},{key:"preventDefault",value:function value(){this.originalEvent.preventDefault();}}]),n;}(vt),Bn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function install(t){t.pointerEvents=Bn,t.defaults.actions.pointerEvents=Bn.defaults,V(t.actions.phaselessTypes,Bn.types);},listeners:{"interactions:new":function interactionsNew(t){var e=t.interaction;e.prevTap=null,e.tapTime=0;},"interactions:update-pointer":function interactionsUpdatePointer(t){var e=t.down,n=t.pointerInfo;if(!e&&n.hold)return;n.hold={duration:1/0,timeout:null};},"interactions:move":function interactionsMove(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Gn(t),Vn({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},e));},"interactions:down":function interactionsDown(t,e){!function(t,e){for(var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,c=q(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:c,node:null},u=0;u<c.length;u++){var p=c[u];l.node=p,e.fire("pointerEvents:collect-targets",l);}if(!l.targets.length)return;for(var f=1/0,d=0,h=l.targets;d<h.length;d++){var v=h[d].eventable.options.holdDuration;v<f&&(f=v);}s.duration=f,s.timeout=setTimeout(function(){Vn({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},e);},f);}(t,e),Vn(t,e);},"interactions:up":function interactionsUp(t,e){Gn(t),Vn(t,e),function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.pointerWasMoved||Vn({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},e);}(t,e);},"interactions:cancel":function interactionsCancel(t,e){Gn(t),Vn(t,e);}},PointerEvent:qn,fire:Vn,collectEventTargets:Wn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:true,move:true,up:true,cancel:true,tap:true,doubletap:true,hold:true}};function Vn(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=t.targets,c=void 0===s?Wn(t,e):s,l=new qn(a,r,i,o,n,e.now());e.fire("pointerEvents:new",{pointerEvent:l});for(var u={interaction:n,pointer:r,event:i,eventTarget:o,targets:c,type:a,pointerEvent:l},p=0;p<c.length;p++){var f=c[p];for(var d in f.props||{})l[d]=f.props[d];var h=K(f.eventable,f.node);if(l._subtractOrigin(h),l.eventable=f.eventable,l.currentTarget=f.node,f.eventable.fire(l),l._addOrigin(h),l.immediatePropagationStopped||l.propagationStopped&&p+1<c.length&&c[p+1].node!==l.currentTarget)break;}if(e.fire("pointerEvents:fired",u),"tap"===a){var v=l["double"]?Vn({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},e):l;n.prevTap=v,n.tapTime=v.timeStamp;}return l;}function Wn(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=n.getPointerIndex(r),c=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!c||c.downTarget!==o))return[];for(var l=q(o),u={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:l,targets:[],node:null},p=0;p<l.length;p++){var f=l[p];u.node=f,e.fire("pointerEvents:collect-targets",u);}return"hold"===a&&(u.targets=u.targets.filter(function(t){var e,r;return t.eventable.options.holdDuration===(null==(e=n.pointers[s])||null==(r=e.hold)?void 0:r.duration);})),u.targets;}function Gn(t){var e=t.interaction,n=t.pointerIndex,r=e.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null);}var Nn=Object.freeze({__proto__:null,"default":Bn});function Un(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null);}var Hn={id:"pointer-events/holdRepeat",install:function install(t){t.usePlugin(Bn);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=true;},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=Un,t;},{"pointerEvents:new":function pointerEventsNew(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1);},"pointerEvents:fired":function pointerEventsFired(t,e){var n=t.interaction,r=t.pointerEvent,i=t.eventTarget,o=t.targets;if("hold"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},e);},a));}}})},Kn=Hn;var $n={id:"pointer-events/interactableTargets",install:function install(t){var e=t.Interactable;e.prototype.pointerEvents=function(t){return V(this.events.options,t),this;};var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var r=n.call(this,t,e);return r===this&&(this.events.options[t]=e),r;};},listeners:{"pointerEvents:collect-targets":function pointerEventsCollectTargets(t,e){var n=t.targets,r=t.node,i=t.type,o=t.eventTarget;e.interactables.forEachMatch(r,function(t){var e=t.events,a=e.options;e.types[i]&&e.types[i].length&&t.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:e,props:{interactable:t}});});},"interactable:new":function interactableNew(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t);};},"interactable:set":function interactableSet(t,e){var n=t.interactable,r=t.options;V(n.events.options,e.pointerEvents.defaults),V(n.events.options,r.pointerEvents||{});}}},Jn=$n,Qn={id:"pointer-events",install:function install(t){t.usePlugin(Nn),t.usePlugin(Kn),t.usePlugin(Jn);}},Zn=Qn;var tr={id:"reflow",install:function install(t){var e=t.Interactable;t.actions.phases.reflow=true,e.prototype.reflow=function(e){return function(t,e,n){for(var r=t.getAllElements(),i=n.window.Promise,o=i?[]:null,a=function a(){var a=r[s],c=t.getRect(a);if(!c)return 1;var l,u=bt(n.interactions.list,function(n){return n.interacting()&&n.interactable===t&&n.element===a&&n.prepared.name===e.name;});if(u)u.move(),o&&(l=u._reflowPromise||new i(function(t){u._reflowResolve=t;}));else{var p=U(c),f=function(t){return{coords:t,get page(){return this.coords.page;},get client(){return this.coords.client;},get timeStamp(){return this.coords.timeStamp;},get pageX(){return this.coords.page.x;},get pageY(){return this.coords.page.y;},get clientX(){return this.coords.client.x;},get clientY(){return this.coords.client.y;},get pointerId(){return this.coords.pointerId;},get target(){return this.coords.target;},get type(){return this.coords.type;},get pointerType(){return this.coords.pointerType;},get buttons(){return this.coords.buttons;},preventDefault:function preventDefault(){}};}({page:{x:p.x,y:p.y},client:{x:p.x,y:p.y},timeStamp:n.now()});l=function(t,e,n,r,i){var o=t.interactions["new"]({pointerType:"reflow"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=e,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,true),nt(o.coords.delta),Ut(o.prepared,r),o._doPhase(a);var s=t.window,c=s.Promise,l=c?new c(function(t){o._reflowResolve=t;}):void 0;o._reflowPromise=l,o.start(r,e,n),o._interacting?(o.move(a),o.end(i)):(o.stop(),o._reflowResolve());return o.removePointer(i,i),l;}(n,t,a,e,f);}o&&o.push(l);},s=0;s<r.length&&!a();s++);return o&&i.all(o).then(function(){return t;});}(this,e,t);};},listeners:{"interactions:stop":function interactionsStop(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),function(t,e){t.splice(t.indexOf(e),1);}(e.interactions.list,n));}}},er=tr;if(un.use(he),un.use(Ce),un.use(Zn),un.use(qe),un.use(Ln),un.use(pe),un.use(Xt),un.use(Gt),un.use(er),un["default"]=un,"object"===n(module)&&module)try{module.exports=un;}catch(t){}return un["default"]=un,un;});})(interact_min$1,interact_min$1.exports);return interact_min$1.exports;}var interact_minExports=/*@__PURE__*/requireInteract_min();var interact=/*@__PURE__*/getDefaultExportFromCjs(interact_minExports);var ProgressOverlay=/*#__PURE__*/function(_r$6){function ProgressOverlay(){var _this13;_classCallCheck(this,ProgressOverlay);_this13=_callSuper(this,ProgressOverlay,arguments);_this13.progress=0;_this13.reverse=false;_this13.min=0;_this13.max=100;_this13.showStipes=false;_this13.tiltProgress=0;_this13.height=0;_this13.startY=0;_this13.currentProgress=0;_this13.active=false;_this13.moved=false;return _this13;}_inherits(ProgressOverlay,_r$6);return _createClass(ProgressOverlay,[{key:"updated",value:function(){var _updated=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(changedProps){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!changedProps.has('progress')){_context2.next=4;break;}this.currentProgress=this.progress;_context2.next=4;return this.requestUpdate();case 4:if(changedProps.has('tiltProgress')){this.targetRef.style.setProperty('--jalousie-stripe-percentage',"".concat(this.tiltProgress,"%"));}case 5:case"end":return _context2.stop();}},_callee2,this);}));function updated(_x2){return _updated.apply(this,arguments);}return updated;}()},{key:"initComponent",value:function initComponent(){var _this14=this;if(!this.targetRef)return;this.height=this.targetRef.offsetHeight;var interactable=interact(this.targetRef);interactable.draggable({listeners:{onstart:this.onDragStart.bind(this),move:this.onDragMove.bind(this),onend:this.onDragEnd.bind(this)}});interactable.on('dragmove',this.onDragMove.bind(this));interactable.on('dragend',this.onDragEnd.bind(this));interactable.on('dragstart',this.onDragStart.bind(this));this.targetRef.addEventListener('click',function(e){if(_this14.moved){e.preventDefault();e.stopImmediatePropagation();// Optional: falls du Click-Handler hart blockieren willst
_this14.moved=false;// reset fr nchste Interaktion
}},true);}},{key:"connectedCallback",value:function connectedCallback(){_superPropGet(ProgressOverlay,"connectedCallback",this,3)([]);this.initComponent();}},{key:"firstUpdated",value:function firstUpdated(){this.initComponent();}},{key:"calculateValue",value:function calculateValue(event){var diffY=event.pageY-this.startY;if(Math.abs(diffY)>5)this.moved=true;var diffValue=(this.reverse?diffY:-diffY)/this.height*(this.max-this.min);var newValue=this.progress+diffValue;return Math.min(Math.max(newValue,this.min),this.max);}},{key:"onDragStart",value:function onDragStart(event){this.startY=event.page.y;this.active=true;this.moved=false;}},{key:"onDragMove",value:function(){var _onDragMove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:this.currentProgress=this.calculateValue(event);_context3.next=3;return this.requestUpdate();case 3:case"end":return _context3.stop();}},_callee3,this);}));function onDragMove(_x3){return _onDragMove.apply(this,arguments);}return onDragMove;}()},{key:"onDragEnd",value:function(){var _onDragEnd=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(event){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:event.stopPropagation();event.preventDefault();this.currentProgress=this.calculateValue(event);this.dispatchEvent(new CustomEvent("update",{detail:this.currentProgress}));this.active=true;_context4.next=7;return this.requestUpdate();case 7:case"end":return _context4.stop();}},_callee4,this);}));function onDragEnd(_x4){return _onDragEnd.apply(this,arguments);}return onDragEnd;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){_superPropGet(ProgressOverlay,"disconnectedCallback",this,3)([]);if(this.targetRef){interact(this.targetRef).unset();}}},{key:"render",value:function render(){var barStyle=this.reverse?"bottom: ".concat(100-this.currentProgress,"%;"):"top: ".concat(100-this.currentProgress,"%;");return x(_templateObject18||(_templateObject18=_taggedTemplateLiteral(["\n      <div class=\"progress-overlay ","\">\n        <div\n          class=\"progress-overlay__bar "," ","\"\n          .style=\"","\"\n        ></div>\n      </div>\n    "])),this.reverse?'progress-overlay--reverse':'',this.active?'progress-overlay__bar--active':'',this.showStipes&&this.tiltProgress<100?'progress-overlay__bar--tilt':'',barStyle);}}]);}(r$2);ProgressOverlay.styles=i$3(_templateObject19||(_templateObject19=_taggedTemplateLiteral(["\n    .progress-overlay {\n      position: absolute;\n      inset: 0;\n      height: 100%;\n      width: 100%;\n      touch-action: none;\n    }\n\n    .progress-overlay__bar {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 100%);\n    }\n\n    .progress-overlay__bar--tilt::before {\n      content: '';\n      position: absolute;\n      inset: 0;\n      background: linear-gradient(0deg,\n        #FFFFFF22 calc(var(--jalousie-stripe-percentage) / 2),\n          transparent calc(var(--jalousie-stripe-percentage) / 2),\n          transparent 50%,\n        #FFFFFF22 50%,\n        #FFFFFF22 calc(50% + calc(var(--jalousie-stripe-percentage) / 2)),\n          transparent calc(50% + calc(var(--jalousie-stripe-percentage) / 2)),\n          transparent 100%\n      );\n      background-size: 100px 100px; \n    }\n\n\n    .progress-overlay__bar--active::after {\n      opacity: 1;\n    }\n\n    .progress-overlay__bar::after {\n      content: \"\";\n      position: absolute;\n      width: 30px;\n      height: 4px;\n      background: #18181b;\n      border-radius: 2px;\n      left: 50%;\n      transform: translateX(-50%) translateY(10px);\n      opacity: 0.3;\n      transition: all 0.25s ease-out;\n    }\n\n    .progress-overlay--reverse .progress-overlay__bar {\n      top: 0;\n      bottom: unset;\n      background: linear-gradient(0deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0) 100%);\n    }\n\n    .progress-overlay--reverse .progress-overlay__bar::after {\n      bottom: 0;\n      transform: translateX(-50%) translateY(-10px);\n    }\n  "])));__decorate([n({type:Number})],ProgressOverlay.prototype,"progress",void 0);__decorate([n({type:Boolean})],ProgressOverlay.prototype,"reverse",void 0);__decorate([n({type:Number})],ProgressOverlay.prototype,"min",void 0);__decorate([n({type:Number})],ProgressOverlay.prototype,"max",void 0);__decorate([n({type:Boolean})],ProgressOverlay.prototype,"showStipes",void 0);__decorate([n({type:Number})],ProgressOverlay.prototype,"tiltProgress",void 0);__decorate([e(".progress-overlay")],ProgressOverlay.prototype,"targetRef",void 0);ProgressOverlay=__decorate([t("".concat(PREFIX_NAME,"-progress-overlay"))],ProgressOverlay);var SliderInput=/*#__PURE__*/function(_r$7){function SliderInput(){var _this15;_classCallCheck(this,SliderInput);_this15=_callSuper(this,SliderInput,arguments);_this15.value=0;_this15.unit="%";_this15.orientation="horizontal";_this15.flip=false;_this15.min=0;_this15.max=100;_this15.size=200;_this15.height=64;_this15.step=1;_this15.tooltip=false;_this15.disabled=false;_this15.type="dimmable";return _this15;}_inherits(SliderInput,_r$7);return _createClass(SliderInput,[{key:"_onInput",value:function _onInput(e){var value=e.target.valueAsNumber;this.value=value;this.dispatchEvent(new CustomEvent("update",{detail:value}));}},{key:"_onChange",value:function _onChange(e){var value=e.target.valueAsNumber;this.value=value;this.dispatchEvent(new CustomEvent("drag-end",{detail:value}));}},{key:"render",value:function render(){var inputClasses=["slider-input__input",this.orientation==="vertical"?"slider-input__input--vertical":"",this.type?"slider-input__input--".concat(this.type):"",this.flip?"slider-input__input--rtl":""].join(" ");var style=this.orientation==="vertical"?"height: ".concat(this.size,"px;"):"width: ".concat(this.size,"px;");return x(_templateObject20||(_templateObject20=_taggedTemplateLiteral(["\n      <div class=\"slider-input\">\n        ","\n        <input\n          type=\"range\"\n          class=\"","\"\n          style=\"","\"\n          .value=","\n          .min=","\n          .max=","\n          .step=","\n          @input=","\n          @change=","\n          ?disabled=","\n        />\n      </div>\n    "])),this.tooltip?x(_templateObject21||(_templateObject21=_taggedTemplateLiteral(["<div class=\"slider-input__tooltip\">","","</div>"])),this.value,this.unit):null,inputClasses,style,String(this.value),String(this.min),String(this.max),String(this.step),this._onInput,this._onChange,this.disabled);}}]);}(r$2);SliderInput.styles=i$3(_templateObject22||(_templateObject22=_taggedTemplateLiteral(["\n    .slider-input {\n      position: relative;\n      display: inline-block;\n    }\n    .slider-input__tooltip {\n      position: absolute;\n      top: -2.5em;\n      left: 50%;\n      width: 60px;\n      height: 1em;\n      text-align: center;\n      color: #81b5cc;\n      font-weight: bold;\n      white-space: nowrap;\n      transform: translateX(-50%);\n      pointer-events: none;\n      z-index: 2;\n    }\n    .slider-input__input {\n      -webkit-appearance: none;\n      appearance: none;\n      width: 100%;\n      cursor: pointer;\n      outline: none;\n      overflow: hidden;\n      border-radius: 20px;\n      background: #b0b0b0;\n      height: 40px;\n      transition: background 0.2s;\n    }\n    .slider-input__input--vertical {\n      writing-mode: vertical-lr;\n      width: 40px;\n      height: 200px;\n    }\n    .slider-input__input--rtl {\n      direction: rtl;\n    }\n    /* Track */\n    .slider-input__input::-webkit-slider-runnable-track {\n      height: 40px;\n      background: #b0b0b0;\n      border-radius: 20px;\n    }\n    .slider-input__input::-moz-range-track {\n      height: 40px;\n      background: #b0b0b0;\n      border-radius: 20px;\n    }\n    /* Thumb */\n    .slider-input__input::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      height: 40px;\n      width: 40px;\n      background-color: #fff;\n      border-radius: 20px;\n      box-shadow: -420px 0 0 400px #ffd300;\n      transition: box-shadow 0.2s;\n    }\n    .slider-input__input--shutter::-webkit-slider-thumb {\n      box-shadow: -420px 0 0 400px #85b639;\n    }\n    .slider-input__input--heating::-webkit-slider-thumb {\n      box-shadow: -420px 0 0 400px #2d8eff;\n    }\n    .slider-input__input--vertical::-webkit-slider-thumb {\n      box-shadow: 0 -420px 0 400px #85b639;\n    }\n    .slider-input__input::-moz-range-thumb {\n      height: 40px;\n      width: 40px;\n      background-color: #fff;\n      border-radius: 20px;\n      box-shadow: -420px 0 0 400px #ffd300;\n      transition: box-shadow 0.2s;\n    }\n    .slider-input__input--shutter::-moz-range-thumb {\n      box-shadow: -420px 0 0 400px #85b639;\n    }\n    .slider-input__input--heating::-moz-range-thumb {\n      box-shadow: -420px 0 0 400px #2d8eff;\n    }\n    .slider-input__input--vertical::-moz-range-thumb {\n      box-shadow: 0 -420px 0 400px #85b639;\n    }\n  "])));__decorate([n({type:Number})],SliderInput.prototype,"value",void 0);__decorate([n({type:String})],SliderInput.prototype,"unit",void 0);__decorate([n({type:String})],SliderInput.prototype,"orientation",void 0);__decorate([n({type:Boolean})],SliderInput.prototype,"flip",void 0);__decorate([n({type:Number})],SliderInput.prototype,"min",void 0);__decorate([n({type:Number})],SliderInput.prototype,"max",void 0);__decorate([n({type:Number})],SliderInput.prototype,"size",void 0);__decorate([n({type:Number})],SliderInput.prototype,"height",void 0);__decorate([n({type:Number})],SliderInput.prototype,"step",void 0);__decorate([n({type:Boolean})],SliderInput.prototype,"tooltip",void 0);__decorate([n({type:Boolean})],SliderInput.prototype,"disabled",void 0);__decorate([n({type:String})],SliderInput.prototype,"type",void 0);SliderInput=__decorate([t("".concat(PREFIX_NAME,"-slider-input"))],SliderInput);var HubUtil=/*#__PURE__*/function(){function HubUtil(){_classCallCheck(this,HubUtil);}return _createClass(HubUtil,null,[{key:"getLovelacePanel",value:function getLovelacePanel(){var _a,_b;var ha=document.querySelector("home-assistant");var main=(_a=ha===null||ha===void 0?void 0:ha.shadowRoot)===null||_a===void 0?void 0:_a.querySelector("home-assistant-main");var panel=(_b=main===null||main===void 0?void 0:main.shadowRoot)===null||_b===void 0?void 0:_b.querySelector("ha-panel-lovelace");return panel;}},{key:"getRoot",value:function getRoot(){var _a,_b,_c;var ha=document.querySelector("home-assistant");var main=(_a=ha===null||ha===void 0?void 0:ha.shadowRoot)===null||_a===void 0?void 0:_a.querySelector("home-assistant-main");var panel=(_b=main===null||main===void 0?void 0:main.shadowRoot)===null||_b===void 0?void 0:_b.querySelector("ha-panel-lovelace");var root=(_c=panel===null||panel===void 0?void 0:panel.shadowRoot)===null||_c===void 0?void 0:_c.querySelector("hui-root");return root;}},{key:"getHeaderHeight",value:function getHeaderHeight(){var _a;var root=HubUtil.getRoot();var header=(_a=root===null||root===void 0?void 0:root.shadowRoot)===null||_a===void 0?void 0:_a.querySelector(".header");return(header===null||header===void 0?void 0:header.offsetHeight)||0;}},{key:"getConfig",value:function getConfig(){var _a;var panel=this.getLovelacePanel();return((_a=panel===null||panel===void 0?void 0:panel.lovelace)===null||_a===void 0?void 0:_a.config)||null;}},{key:"getViews",value:function getViews(){var config=this.getConfig();return(config===null||config===void 0?void 0:config.views)||null;}},{key:"getNavigationItems",value:function getNavigationItems(){var config=this.getConfig();return(config===null||config===void 0?void 0:config.navigation)||[];}},{key:"getQuickNavigationItems",value:function getQuickNavigationItems(){var config=this.getConfig();return(config===null||config===void 0?void 0:config.quick_navigation)||[];}},{key:"getChipItems",value:function getChipItems(){var config=this.getConfig();return(config===null||config===void 0?void 0:config.chips)||[];}},{key:"createCardsFromConfig",value:function(){var _createCardsFromConfig=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(configArray,helpers,hass){var cards;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(Array.isArray(configArray)){_context6.next=2;break;}return _context6.abrupt("return",[]);case 2:_context6.next=4;return Promise.all(configArray.map(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(cardConfig){var card;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return helpers.createCardElement(cardConfig);case 2:card=_context5.sent;card.hass=hass;return _context5.abrupt("return",card);case 5:case"end":return _context5.stop();}},_callee5);}));return function(_x8){return _ref3.apply(this,arguments);};}()));case 4:cards=_context6.sent;return _context6.abrupt("return",cards);case 6:case"end":return _context6.stop();}},_callee6);}));function createCardsFromConfig(_x5,_x6,_x7){return _createCardsFromConfig.apply(this,arguments);}return createCardsFromConfig;}()}]);}();var HubView=/*#__PURE__*/function(_r$8){function HubView(){var _this16;_classCallCheck(this,HubView);_this16=_callSuper(this,HubView,arguments);_this16.sections=[];_this16._navigation=[];_this16._quickNavigation=[];_this16._chips=[];_this16.leftShadow=false;_this16.rightShadow=false;_this16._navigationConfig=[];_this16._quickNavigationConfig=[];_this16._chipsConfig=[];return _this16;}_inherits(HubView,_r$8);return _createClass(HubView,[{key:"firstUpdated",value:function(){var _firstUpdated=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(_changedProperties){var _a,_b,sidebarEl,sidebarWidth,helpers;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:this.scrollContainer.addEventListener("scroll",this.handleScroll.bind(this));this.handleScroll();sidebarEl=this.shadowRoot.querySelector(".hub-layout");sidebarWidth=(_b=(_a=sidebarEl.getBoundingClientRect())===null||_a===void 0?void 0:_a.x)!==null&&_b!==void 0?_b:0;this.scrollContainer.style.setProperty("--sidebar-width","".concat(sidebarWidth,"px"));this.scrollContainer.style.setProperty("--header-height","".concat(HubUtil.getHeaderHeight(),"px"));this._quickNavigationConfig=HubUtil.getQuickNavigationItems();this._navigationConfig=HubUtil.getNavigationItems();this._chipsConfig=HubUtil.getChipItems();_context7.next=11;return window.loadCardHelpers();case 11:helpers=_context7.sent;_context7.next=14;return HubUtil.createCardsFromConfig(this._navigationConfig,helpers,this.hass);case 14:this._navigation=_context7.sent;_context7.next=17;return HubUtil.createCardsFromConfig(this._quickNavigationConfig,helpers,this.hass);case 17:this._quickNavigation=_context7.sent;_context7.next=20;return HubUtil.createCardsFromConfig(this._chipsConfig,helpers,this.hass);case 20:this._chips=_context7.sent;case 21:case"end":return _context7.stop();}},_callee7,this);}));function firstUpdated(_x9){return _firstUpdated.apply(this,arguments);}return firstUpdated;}()},{key:"updated",value:function updated(changed){var _this17=this;if(changed.has("hass")){this._navigation.forEach(function(card){return card.hass=_this17.hass;});this._quickNavigation.forEach(function(card){return card.hass=_this17.hass;});this._chips.forEach(function(card){return card.hass=_this17.hass;});}}},{key:"setConfig",value:function(){var _setConfig=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(config){return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:this.config=config;case 1:case"end":return _context8.stop();}},_callee8,this);}));function setConfig(_x10){return _setConfig.apply(this,arguments);}return setConfig;}()},{key:"handleScroll",value:function handleScroll(){var el=this.scrollContainer;if(!el)return;var scrollLeft=el.scrollLeft;var maxScrollLeft=el.scrollWidth-el.clientWidth;this.leftShadow=scrollLeft>0;this.rightShadow=scrollLeft<maxScrollLeft;}},{key:"render",value:function render(){var _this18=this;var _a;return x(_templateObject23||(_templateObject23=_taggedTemplateLiteral(["\n      <div class=\"hub-layout\">\n        <aside class=\"sidebar\">\n          <nav class=\"nav\">\n            <button\n              class=\"round-button\"\n              name=\"Menu\"\n              icon=\"\"\n              @click=\"","\"\n              aria-label=\"Menu\"\n            >\n              <ha-state-icon icon=\"mdi:menu\"></ha-state-icon>\n            </button>\n\n            ","\n          </nav>\n          <nav class=\"nav\">\n            <!-- bottom nav -->\n          </nav>\n        </aside>\n\n        <div class=\"body\">\n          <header>\n            <div>","</div>\n          </header>\n\n          <main>\n            <div\n              class=\"scroll "," ","\"\n            >\n              <div class=\"inner\">\n                ","\n              </div>\n            </div>\n          </main>\n\n          <footer>","</footer>\n        </div>\n      </div>\n\n      <hub-modal id=\"navigationModal\" title=\"Lichter an?\">\n        <div class=\"navigation-modal__grid\">","</div>\n      </hub-modal>\n    "])),function(){var _a,_b;return(_b=(_a=_this18._modal)===null||_a===void 0?void 0:_a.showModal)===null||_b===void 0?void 0:_b.call(_a);},this._quickNavigation,((_a=this.config)===null||_a===void 0?void 0:_a.title)||"Dashboard",this.leftShadow?"scroll__left-shadow":"",this.rightShadow?"scroll__right-shadow":"",this.sections.map(function(card){return x(_templateObject24||(_templateObject24=_taggedTemplateLiteral(["<div style=\"--base-column-count: 24;\">","</div>"])),card);}),this._chips,this._navigation);}}],[{key:"styles",get:function get(){return[roundButtonStyles,i$3(_templateObject25||(_templateObject25=_taggedTemplateLiteral(["\n        .hub-layout {\n          display: flex;\n          height: 100vh;\n          background: linear-gradient(90deg, #0a090d 0%, #201f25 100%);\n          color: white;\n          font-family: sans-serif;\n        }\n\n        .sidebar {\n          width: 104px;\n          display: flex;\n          flex: none;\n          flex-direction: column;\n          justify-content: space-between;\n          padding: 1rem 0;\n        }\n\n        .nav {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n          align-items: center;\n        }\n\n        .body {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          height: 100vh;\n          width: calc(100vw - 104px);\n          overflow: hidden;\n        }\n\n        .scroll {\n          position: relative;\n          display: flex;\n          overflow: auto;\n          height: 100%;\n          padding-right: 40px;\n        }\n\n        .scroll__left-shadow::before {\n          content: \"\";\n          position: fixed;\n          left: calc(var(--sidebar-width) + 104px);\n          top: 0;\n          height: calc(100% - 104px);\n          width: 150px;\n          z-index: 2;\n          box-shadow: inset 40px 0 40px -7px #0a090d;\n          pointer-events: none;\n        }\n\n        .scroll__right-shadow::after {\n          content: \"\";\n          position: fixed;\n          right: 0;\n          top: 0;\n          height: calc(100% - 104px);\n          width: 150px;\n          z-index: 2;\n          box-shadow: inset -40px 0 40px -7px #201f25;\n          pointer-events: none;\n        }\n\n        .inner {\n          display: flex;\n          gap: 40px;\n        }\n\n        header {\n          padding: 20px 20px 0 0;\n          font-size: 1.5rem;\n          font-weight: bold;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        main {\n          flex: 1;\n          overflow: auto;\n        }\n\n        footer {\n          height: 64px;\n          width: 100%;\n          padding: 20px 20px 20px 0;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          gap: 20px;\n        }\n\n        .navigation-modal__grid {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          width: 100%;\n          gap: 20px;\n        }\n      "])))];}}]);}(r$2);__decorate([n({attribute:false})],HubView.prototype,"hass",void 0);__decorate([n({attribute:false})],HubView.prototype,"sections",void 0);__decorate([n({type:Object})],HubView.prototype,"config",void 0);__decorate([r()],HubView.prototype,"_navigation",void 0);__decorate([r()],HubView.prototype,"_quickNavigation",void 0);__decorate([r()],HubView.prototype,"_chips",void 0);__decorate([r()],HubView.prototype,"leftShadow",void 0);__decorate([r()],HubView.prototype,"rightShadow",void 0);__decorate([e("#navigationModal")],HubView.prototype,"_modal",void 0);__decorate([e(".scroll")],HubView.prototype,"scrollContainer",void 0);HubView=__decorate([t("".concat(PREFIX_NAME,"-view"))],HubView);var HubButtonCard=/*#__PURE__*/function(_r$9){function HubButtonCard(){var _this19;_classCallCheck(this,HubButtonCard);_this19=_callSuper(this,HubButtonCard,arguments);_this19._card=null;return _this19;}_inherits(HubButtonCard,_r$9);return _createClass(HubButtonCard,[{key:"setConfig",value:function(){var _setConfig2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(config){var helpers;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:this.config=config;_context9.next=3;return window.loadCardHelpers();case 3:helpers=_context9.sent;if(config){_context9.next=6;break;}return _context9.abrupt("return");case 6:_context9.next=8;return helpers.createCardElement(Object.assign(Object.assign({},config),{type:"custom:button-card",styles:{card:[{"background-color":"#363640","border-radius":"999px","border-width":"0",padding:"0px 32px 0px 8px"}],grid:[{"grid-template-areas":'"i n s" "i n s" "i n l"',"grid-template-rows":"64px 1fr min-content min-content","grid-template-columns":"48px 1fr min-content"}],img_cell:[{width:"48px",height:"48px",color:"#17161C","border-radius":"999px","background-color":"#FFD300"}],name:[{"place-self":"unset"}],icon:[{"font-size":"40px",color:"#17161C"}]}}));case 8:this._card=_context9.sent;this._card.hass=this.hass;this.requestUpdate();case 11:case"end":return _context9.stop();}},_callee9,this);}));function setConfig(_x11){return _setConfig2.apply(this,arguments);}return setConfig;}()},{key:"render",value:function render(){return x(_templateObject26||(_templateObject26=_taggedTemplateLiteral(["",""])),this._card);}}]);}(r$2);__decorate([n({attribute:false})],HubButtonCard.prototype,"hass",void 0);__decorate([n({type:Object})],HubButtonCard.prototype,"config",void 0);__decorate([r()],HubButtonCard.prototype,"_card",void 0);HubButtonCard=__decorate([t("".concat(PREFIX_NAME,"-button-card"))],HubButtonCard);var RoundButton=/*#__PURE__*/function(_r$10){function RoundButton(){var _this20;_classCallCheck(this,RoundButton);_this20=_callSuper(this,RoundButton,arguments);_this20._card=null;return _this20;}_inherits(RoundButton,_r$10);return _createClass(RoundButton,[{key:"setConfig",value:function(){var _setConfig3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(config){var helpers;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:this.config=config;_context10.next=3;return window.loadCardHelpers();case 3:helpers=_context10.sent;if(config){_context10.next=6;break;}return _context10.abrupt("return");case 6:_context10.next=8;return helpers.createCardElement(Object.assign(Object.assign({},config),{type:"custom:button-card",styles:{card:[{"background-color":"#363640","border-radius":"50%",width:"64px",height:"64px","border-width":"0"}],icon:[{"font-size":"40px",color:"#ffffff"}]}}));case 8:this._card=_context10.sent;this._card.hass=this.hass;this.requestUpdate();case 11:case"end":return _context10.stop();}},_callee10,this);}));function setConfig(_x12){return _setConfig3.apply(this,arguments);}return setConfig;}()},{key:"render",value:function render(){return x(_templateObject27||(_templateObject27=_taggedTemplateLiteral(["",""])),this._card);}}]);}(r$2);__decorate([n({attribute:false})],RoundButton.prototype,"hass",void 0);__decorate([n({type:Object})],RoundButton.prototype,"config",void 0);__decorate([r()],RoundButton.prototype,"_card",void 0);RoundButton=__decorate([t("".concat(PREFIX_NAME,"-round-button"))],RoundButton);var HubContainerGroup=/*#__PURE__*/function(_r$11){function HubContainerGroup(){var _this21;_classCallCheck(this,HubContainerGroup);_this21=_callSuper(this,HubContainerGroup,arguments);_this21.cards=[];return _this21;}_inherits(HubContainerGroup,_r$11);return _createClass(HubContainerGroup,[{key:"setConfig",value:function(){var _setConfig4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(config){return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:this.config=config;case 1:case"end":return _context11.stop();}},_callee11,this);}));function setConfig(_x13){return _setConfig4.apply(this,arguments);}return setConfig;}()},{key:"firstUpdated",value:function firstUpdated(){var _a,_b;var el=this.renderRoot.querySelector(".container-group__inner");if(!el)return;var height=el.offsetHeight;var rows=((_a=this.config)===null||_a===void 0?void 0:_a.rows)||4;var rowHeight=height/rows-20;el.style.setProperty("--grid-size","".concat(rowHeight,"px"));el.style.setProperty("--grid-rows","".concat(rows));el.style.setProperty("--grid-columns","".concat(((_b=this.config)===null||_b===void 0?void 0:_b.columns)||4));}},{key:"render",value:function render(){var _this22=this;var _a,_b;return x(_templateObject28||(_templateObject28=_taggedTemplateLiteral(["\n      <div class=\"container-group\">\n        <div class=\"container-group__track\">\n          <div class=\"container-group__headline\">\n            <h3 class=\"text-size-lg\">","</h3>\n            <div class=\"container-group__actions\">\n              <!-- TODO -->\n            </div>\n          </div>\n        </div>\n        <div class=\"container-group__inner\">\n          <slot>\n            ","\n          </slot>\n        </div>\n      </div>\n    "])),((_a=this.config)===null||_a===void 0?void 0:_a.heading)||"",(_b=this.cards)===null||_b===void 0?void 0:_b.map(function(card,index){var _a,_b,_c,_d;return x(_templateObject29||(_templateObject29=_taggedTemplateLiteral(["\n                <div\n                  style=\"\n                            grid-column: span ",";\n                            grid-row: span ",";\n                        \"\n                >\n                  ","\n                </div>\n              "])),((_b=(_a=_this22.config.cards)===null||_a===void 0?void 0:_a[index])===null||_b===void 0?void 0:_b.column_span)||1,((_d=(_c=_this22.config.cards)===null||_c===void 0?void 0:_c[index])===null||_d===void 0?void 0:_d.row_span)||1,card);}));}}],[{key:"styles",get:function get(){return[i$3(_templateObject30||(_templateObject30=_taggedTemplateLiteral(["\n        .container-group {\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          color: var(--color-white, #fff);\n          height: 100%;\n          border-radius: 28px;\n        }\n        .container-group__actions {\n          display: inline-flex;\n          gap: 10px;\n          margin-left: 20px;\n        }\n        .container-group__track {\n          display: flex;\n          align-items: center;\n          position: relative;\n          min-height: 52px;\n        }\n        .container-group__headline {\n          left: 0;\n          position: sticky;\n          display: inline-flex;\n          align-items: center;\n          z-index: 1;\n        }\n        .container-group__inner {\n          display: grid;\n          grid-template-columns: repeat(var(--grid-columns), var(--grid-size));\n          grid-template-rows: repeat(var(--grid-rows), var(--grid-size));\n          height: 100%;\n          gap: 20px;\n        }\n      "])))];}}]);}(r$2);__decorate([n({attribute:false})],HubContainerGroup.prototype,"hass",void 0);__decorate([n({type:Object})],HubContainerGroup.prototype,"config",void 0);__decorate([n({type:Array,attribute:false})],HubContainerGroup.prototype,"cards",void 0);HubContainerGroup=__decorate([t("".concat(PREFIX_NAME,"-container-group"))],HubContainerGroup);var HubLightChip=/*#__PURE__*/function(_r$12){function HubLightChip(){var _this23;_classCallCheck(this,HubLightChip);_this23=_callSuper(this,HubLightChip,arguments);_this23._lightsOn=[];_this23._lightsOnCards=[];return _this23;}_inherits(HubLightChip,_r$12);return _createClass(HubLightChip,[{key:"setConfig",value:function setConfig(config){this.config=config;}},{key:"updated",value:function updated(changed){if(changed.has("hass")){this._updateLights();}}},{key:"_updateLights",value:function(){var _updateLights2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(){var _this24=this;var _a,helpers,lights,extraEntities,extras;return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_context12.next=2;return window.loadCardHelpers();case 2:helpers=_context12.sent;lights=Object.entries(this.hass.states).filter(function(_ref4){var _ref5=_slicedToArray(_ref4,2),eid=_ref5[0],stateObj=_ref5[1];return eid.startsWith("light.")&&stateObj.state==="on";}).map(function(_ref6){var _ref7=_slicedToArray(_ref6,1),eid=_ref7[0];return eid;});extraEntities=Array.isArray((_a=this.config)===null||_a===void 0?void 0:_a.extra_entities)?this.config.extra_entities:[];extras=extraEntities.filter(function(eid){var stateObj=_this24.hass.states[eid];return stateObj&&stateObj.state==="on";});this._lightsOn=[].concat(_toConsumableArray(lights),_toConsumableArray(extras));_context12.next=9;return HubUtil.createCardsFromConfig(this._lightsOn.map(function(entity){return{type:"tile",entity:entity,features_position:"bottom",vertical:true,tap_action:{action:"toggle"}};}),helpers,this.hass);case 9:this._lightsOnCards=_context12.sent;case 10:case"end":return _context12.stop();}},_callee12,this);}));function _updateLights(){return _updateLights2.apply(this,arguments);}return _updateLights;}()},{key:"_toggleAllOff",value:function _toggleAllOff(){var _this25=this;this._lightsOn.forEach(function(light){_this25.hass.callService("light","turn_off",{entity_id:light});});this._closeModal();}},{key:"_openModal",value:function _openModal(){var modal=this.renderRoot.querySelector("hub-modal");modal===null||modal===void 0?void 0:modal.showModal();}},{key:"_closeModal",value:function _closeModal(){var modal=this.renderRoot.querySelector("hub-modal");modal===null||modal===void 0?void 0:modal.hideModal();}},{key:"render",value:function render(){var _a,_b,_c,_d;var count=this._lightsOn.length;var text=count===1?((_a=this.config)===null||_a===void 0?void 0:_a.text_singular)||"1 Licht an":(((_b=this.config)===null||_b===void 0?void 0:_b.text_plural)||"".concat(count," Lichter an")).replace("{count}","".concat(count));if(count===0)return x(_templateObject31||(_templateObject31=_taggedTemplateLiteral([""])));return x(_templateObject32||(_templateObject32=_taggedTemplateLiteral(["\n      <hub-base-button-card\n        .icon=\"","\"\n        .label=\"","\"\n        .subline=\"","\"\n        @click=","\n      ></hub-base-button-card>\n\n      <hub-modal title=\"Aktive Lichter\">\n        <div class=\"hub-light-chip__modal\">","</div>\n        <div slot=\"actions\">\n          <hub-base-button-card\n            icon=\"mdi:light-switch-off\"\n            label=\"Alle aus\"\n            @click=","\n          ></hub-base-button-card>\n        </div>\n      </hub-modal>\n    "])),(_c=this.config)===null||_c===void 0?void 0:_c.icon,(_d=this.config)===null||_d===void 0?void 0:_d.name,text,this._openModal,this._lightsOnCards,this._toggleAllOff);}}]);}(r$2);HubLightChip.styles=i$3(_templateObject33||(_templateObject33=_taggedTemplateLiteral(["\n    button {\n      background: var(--accent-color);\n      color: white;\n      border: none;\n      padding: 0.75rem 1rem;\n      border-radius: 0.5rem;\n      cursor: pointer;\n      margin-top: 1rem;\n    }\n    button:hover {\n      background: var(--accent-color-dark, #444);\n    }\n    .hub-light-chip__modal {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      width: 100%;\n      gap: 20px;\n    }\n  "])));__decorate([n({type:Object})],HubLightChip.prototype,"hass",void 0);__decorate([n({type:Object})],HubLightChip.prototype,"config",void 0);__decorate([r()],HubLightChip.prototype,"_lightsOn",void 0);__decorate([r()],HubLightChip.prototype,"_lightsOnCards",void 0);HubLightChip=__decorate([t("".concat(PREFIX_NAME,"-light-chip"))],HubLightChip);var HubBinarySensorChip=/*#__PURE__*/function(_r$13){function HubBinarySensorChip(){var _this26;_classCallCheck(this,HubBinarySensorChip);_this26=_callSuper(this,HubBinarySensorChip,arguments);_this26._sensorsOn=[];_this26._sensorsOnCards=[];return _this26;}_inherits(HubBinarySensorChip,_r$13);return _createClass(HubBinarySensorChip,[{key:"setConfig",value:function setConfig(config){this.config=config;}},{key:"updated",value:function updated(changed){if(changed.has("hass")){this._updateSensors();}}},{key:"_updateSensors",value:function(){var _updateSensors2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee13(){var _this27=this;var _a,helpers,entities;return _regeneratorRuntime().wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_context13.next=2;return window.loadCardHelpers();case 2:helpers=_context13.sent;entities=Array.isArray((_a=this.config)===null||_a===void 0?void 0:_a.entities)?this.config.entities:[];this._sensorsOn=entities.filter(function(eid){var stateObj=_this27.hass.states[eid];return stateObj&&stateObj.state==="on";});_context13.next=7;return HubUtil.createCardsFromConfig(this._sensorsOn.map(function(entity){var _a;return{type:"tile",entity:entity,features_position:"bottom",icon:(_a=_this27.config)===null||_a===void 0?void 0:_a.icon,vertical:true,tap_action:{action:"none"},icon_tap_action:{action:"none"}};}),helpers,this.hass);case 7:this._sensorsOnCards=_context13.sent;case 8:case"end":return _context13.stop();}},_callee13,this);}));function _updateSensors(){return _updateSensors2.apply(this,arguments);}return _updateSensors;}()},{key:"_openModal",value:function _openModal(){var modal=this.renderRoot.querySelector("hub-modal");modal===null||modal===void 0?void 0:modal.showModal();}},{key:"_closeModal",value:function _closeModal(){var modal=this.renderRoot.querySelector("hub-modal");modal===null||modal===void 0?void 0:modal.hideModal();}},{key:"render",value:function render(){var _a,_b,_c,_d,_e,_f;var count=(_b=(_a=this._sensorsOn)===null||_a===void 0?void 0:_a.length)!==null&&_b!==void 0?_b:0;var text=count===1?((_c=this.config)===null||_c===void 0?void 0:_c.text_singular)||"1 Sensor an":(((_d=this.config)===null||_d===void 0?void 0:_d.text_plural)||"".concat(count," Sensoren an")).replace("{count}","".concat(count));if(count===0)return x(_templateObject34||(_templateObject34=_taggedTemplateLiteral([""])));return x(_templateObject35||(_templateObject35=_taggedTemplateLiteral(["\n      <hub-base-button-card\n        .icon=\"","\"\n        .label=\"","\"\n        .subline=\"","\"\n        @click=","\n      ></hub-base-button-card>\n\n      <hub-modal title=\"Aktive Sensoren\">\n        <div class=\"hub-light-chip__modal\">","</div>\n      </hub-modal>\n    "])),(_e=this.config)===null||_e===void 0?void 0:_e.icon,(_f=this.config)===null||_f===void 0?void 0:_f.name,text,this._openModal,this._sensorsOnCards);}}]);}(r$2);HubBinarySensorChip.styles=i$3(_templateObject36||(_templateObject36=_taggedTemplateLiteral(["\n    .hub-light-chip__modal {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      width: 100%;\n      gap: 20px;\n    }\n  "])));__decorate([n({type:Object})],HubBinarySensorChip.prototype,"hass",void 0);__decorate([n({type:Object})],HubBinarySensorChip.prototype,"config",void 0);__decorate([r()],HubBinarySensorChip.prototype,"_sensorsOn",void 0);__decorate([r()],HubBinarySensorChip.prototype,"_sensorsOnCards",void 0);HubBinarySensorChip=__decorate([t("".concat(PREFIX_NAME,"-binary-sensor-chip"))],HubBinarySensorChip);var computeDomain=function computeDomain(entityId){return entityId.substr(0,entityId.indexOf("."));};var supportsFeature=function supportsFeature(stateObj,feature){return supportsFeatureFromAttributes(stateObj.attributes,feature);};var supportsFeatureFromAttributes=function supportsFeatureFromAttributes(attributes,feature){return(// eslint-disable-next-line no-bitwise
(attributes.supported_features&feature)!==0);};var NumberFormat;(function(NumberFormat){NumberFormat["language"]="language";NumberFormat["system"]="system";NumberFormat["comma_decimal"]="comma_decimal";NumberFormat["decimal_comma"]="decimal_comma";NumberFormat["space_comma"]="space_comma";NumberFormat["none"]="none";})(NumberFormat||(NumberFormat={}));var TimeFormat;(function(TimeFormat){TimeFormat["language"]="language";TimeFormat["system"]="system";TimeFormat["am_pm"]="12";TimeFormat["twenty_four"]="24";})(TimeFormat||(TimeFormat={}));var TimeZone;(function(TimeZone){TimeZone["local"]="local";TimeZone["server"]="server";})(TimeZone||(TimeZone={}));var DateFormat;(function(DateFormat){DateFormat["language"]="language";DateFormat["system"]="system";DateFormat["DMY"]="DMY";DateFormat["MDY"]="MDY";DateFormat["YMD"]="YMD";})(DateFormat||(DateFormat={}));var FirstWeekday;(function(FirstWeekday){FirstWeekday["language"]="language";FirstWeekday["monday"]="monday";FirstWeekday["tuesday"]="tuesday";FirstWeekday["wednesday"]="wednesday";FirstWeekday["thursday"]="thursday";FirstWeekday["friday"]="friday";FirstWeekday["saturday"]="saturday";FirstWeekday["sunday"]="sunday";})(FirstWeekday||(FirstWeekday={}));/**
 * A `StructFailure` represents a single specific failure in validation.
 *//**
 * `StructError` objects are thrown (or returned) when validation fails.
 *
 * Validation logic is design to exit early for maximum performance. The error
 * represents the first error encountered during validation. For more detail,
 * the `error.failures` property is a generator function that can be run to
 * continue validation and receive all the failures in the data.
 */var StructError=/*#__PURE__*/function(_TypeError){function StructError(failure,failures){var _this28;_classCallCheck(this,StructError);var cached;var message=failure.message,explanation=failure.explanation,rest=_objectWithoutProperties(failure,_excluded);var path=failure.path;var msg=path.length===0?message:"At path: ".concat(path.join('.')," -- ").concat(message);_this28=_callSuper(this,StructError,[explanation!==null&&explanation!==void 0?explanation:msg]);if(explanation!=null)_this28.cause=msg;Object.assign(_this28,rest);_this28.name=_this28.constructor.name;_this28.failures=function(){return cached!==null&&cached!==void 0?cached:cached=[failure].concat(_toConsumableArray(failures()));};return _this28;}_inherits(StructError,_TypeError);return _createClass(StructError);}(/*#__PURE__*/_wrapNativeSuper(TypeError));/**
 * Check if a value is an iterator.
 */function isIterable(x){return isObject(x)&&typeof x[Symbol.iterator]==='function';}/**
 * Check if a value is a plain object.
 */function isObject(x){return _typeof(x)==='object'&&x!=null;}/**
 * Check if a value is a non-array object.
 */function isNonArrayObject(x){return isObject(x)&&!Array.isArray(x);}/**
 * Return a value as a printable string.
 */function print(value){if(_typeof(value)==='symbol'){return value.toString();}return typeof value==='string'?JSON.stringify(value):"".concat(value);}/**
 * Shifts (removes and returns) the first value from the `input` iterator.
 * Like `Array.prototype.shift()` but for an `Iterator`.
 */function shiftIterator(input){var _input$next=input.next(),done=_input$next.done,value=_input$next.value;return done?undefined:value;}/**
 * Convert a single validation result to a failure.
 */function toFailure(result,context,struct,value){if(result===true){return;}else if(result===false){result={};}else if(typeof result==='string'){result={message:result};}var path=context.path,branch=context.branch;var type=struct.type;var _result=result,refinement=_result.refinement,_result$message=_result.message,message=_result$message===void 0?"Expected a value of type `".concat(type,"`").concat(refinement?" with refinement `".concat(refinement,"`"):'',", but received: `").concat(print(value),"`"):_result$message;return _objectSpread(_objectSpread({value:value,type:type,refinement:refinement,key:path[path.length-1],path:path,branch:branch},result),{},{message:message});}/**
 * Convert a validation result to an iterable of failures.
 */function toFailures(result,context,struct,value){var _iterator13,_step13,_r5,failure;return _regeneratorRuntime().wrap(function toFailures$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:if(!isIterable(result)){result=[result];}_iterator13=_createForOfIteratorHelper(result);_context14.prev=2;_iterator13.s();case 4:if((_step13=_iterator13.n()).done){_context14.next=12;break;}_r5=_step13.value;failure=toFailure(_r5,context,struct,value);if(!failure){_context14.next=10;break;}_context14.next=10;return failure;case 10:_context14.next=4;break;case 12:_context14.next=17;break;case 14:_context14.prev=14;_context14.t0=_context14["catch"](2);_iterator13.e(_context14.t0);case 17:_context14.prev=17;_iterator13.f();return _context14.finish(17);case 20:case"end":return _context14.stop();}},_marked,null,[[2,14,17,20]]);}/**
 * Check a value against a struct, traversing deeply into nested values, and
 * returning an iterator of failures or success.
 */function run(value,struct){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return/*#__PURE__*/_regeneratorRuntime().mark(function _callee14(){var _options$path,path,_options$branch,branch,_options$coerce,coerce,_options$mask,mask,ctx,status,_iterator14,_step14,_failure,_iterator15,_step15,_step15$value,_k5,_v,_s13,ts,_iterator17,_step17,_t16,_iterator16,_step16,failure;return _regeneratorRuntime().wrap(function _callee14$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:_options$path=options.path,path=_options$path===void 0?[]:_options$path,_options$branch=options.branch,branch=_options$branch===void 0?[value]:_options$branch,_options$coerce=options.coerce,coerce=_options$coerce===void 0?false:_options$coerce,_options$mask=options.mask,mask=_options$mask===void 0?false:_options$mask;ctx={path:path,branch:branch,mask:mask};if(coerce){value=struct.coercer(value,ctx);}status='valid';_iterator14=_createForOfIteratorHelper(struct.validator(value,ctx));_context15.prev=5;_iterator14.s();case 7:if((_step14=_iterator14.n()).done){_context15.next=15;break;}_failure=_step14.value;_failure.explanation=options.message;status='not_valid';_context15.next=13;return[_failure,undefined];case 13:_context15.next=7;break;case 15:_context15.next=20;break;case 17:_context15.prev=17;_context15.t0=_context15["catch"](5);_iterator14.e(_context15.t0);case 20:_context15.prev=20;_iterator14.f();return _context15.finish(20);case 23:_iterator15=_createForOfIteratorHelper(struct.entries(value,ctx));_context15.prev=24;_iterator15.s();case 26:if((_step15=_iterator15.n()).done){_context15.next=53;break;}_step15$value=_slicedToArray(_step15.value,3),_k5=_step15$value[0],_v=_step15$value[1],_s13=_step15$value[2];ts=run(_v,_s13,{path:_k5===undefined?path:[].concat(_toConsumableArray(path),[_k5]),branch:_k5===undefined?branch:[].concat(_toConsumableArray(branch),[_v]),coerce:coerce,mask:mask,message:options.message});_iterator17=_createForOfIteratorHelper(ts);_context15.prev=30;_iterator17.s();case 32:if((_step17=_iterator17.n()).done){_context15.next=43;break;}_t16=_step17.value;if(!_t16[0]){_context15.next=40;break;}status=_t16[0].refinement!=null?'not_refined':'not_valid';_context15.next=38;return[_t16[0],undefined];case 38:_context15.next=41;break;case 40:if(coerce){_v=_t16[1];if(_k5===undefined){value=_v;}else if(value instanceof Map){value.set(_k5,_v);}else if(value instanceof Set){value.add(_v);}else if(isObject(value)){if(_v!==undefined||_k5 in value)value[_k5]=_v;}}case 41:_context15.next=32;break;case 43:_context15.next=48;break;case 45:_context15.prev=45;_context15.t1=_context15["catch"](30);_iterator17.e(_context15.t1);case 48:_context15.prev=48;_iterator17.f();return _context15.finish(48);case 51:_context15.next=26;break;case 53:_context15.next=58;break;case 55:_context15.prev=55;_context15.t2=_context15["catch"](24);_iterator15.e(_context15.t2);case 58:_context15.prev=58;_iterator15.f();return _context15.finish(58);case 61:if(!(status!=='not_valid')){_context15.next=81;break;}_iterator16=_createForOfIteratorHelper(struct.refiner(value,ctx));_context15.prev=63;_iterator16.s();case 65:if((_step16=_iterator16.n()).done){_context15.next=73;break;}failure=_step16.value;failure.explanation=options.message;status='not_refined';_context15.next=71;return[failure,undefined];case 71:_context15.next=65;break;case 73:_context15.next=78;break;case 75:_context15.prev=75;_context15.t3=_context15["catch"](63);_iterator16.e(_context15.t3);case 78:_context15.prev=78;_iterator16.f();return _context15.finish(78);case 81:if(!(status==='valid')){_context15.next=84;break;}_context15.next=84;return[undefined,value];case 84:case"end":return _context15.stop();}},_callee14,null,[[5,17,20,23],[24,55,58,61],[30,45,48,51],[63,75,78,81]]);})();}/**
 * `Struct` objects encapsulate the validation logic for a specific type of
 * values. Once constructed, you use the `assert`, `is` or `validate` helpers to
 * validate unknown input data against the struct.
 */var Struct=/*#__PURE__*/function(){function Struct(props){var _this29=this;_classCallCheck(this,Struct);var type=props.type,schema=props.schema,validator=props.validator,refiner=props.refiner,_props$coercer=props.coercer,coercer=_props$coercer===void 0?function(value){return value;}:_props$coercer,_props$entries=props.entries,entries=_props$entries===void 0?/*#__PURE__*/_regeneratorRuntime().mark(function _callee15(){return _regeneratorRuntime().wrap(function _callee15$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:case"end":return _context16.stop();}},_callee15);}):_props$entries;this.type=type;this.schema=schema;this.entries=entries;this.coercer=coercer;if(validator){this.validator=function(value,context){var result=validator(value,context);return toFailures(result,context,_this29,value);};}else{this.validator=function(){return[];};}if(refiner){this.refiner=function(value,context){var result=refiner(value,context);return toFailures(result,context,_this29,value);};}else{this.refiner=function(){return[];};}}/**
   * Assert that a value passes the struct's validation, throwing if it doesn't.
   */return _createClass(Struct,[{key:"assert",value:function assert(value,message){return _assert(value,this,message);}/**
   * Create a value with the struct's coercion logic, then validate it.
   */},{key:"create",value:function create(value,message){return _create(value,this,message);}/**
   * Check if a value passes the struct's validation.
   */},{key:"is",value:function is(value){return _is(value,this);}/**
   * Mask a value, coercing and validating it, but returning only the subset of
   * properties defined by the struct's schema. Masking applies recursively to
   * props of `object` structs only.
   */},{key:"mask",value:function mask(value,message){return _mask(value,this,message);}/**
   * Validate a value with the struct's validation logic, returning a tuple
   * representing the result.
   *
   * You may optionally pass `true` for the `coerce` argument to coerce
   * the value before attempting to validate it. If you do, the result will
   * contain the coerced result when successful. Also, `mask` will turn on
   * masking of the unknown `object` props recursively if passed.
   */},{key:"validate",value:function validate(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _validate(value,this,options);}}]);}();/**
 * Assert that a value passes a struct, throwing if it doesn't.
 */function _assert(value,struct,message){var result=_validate(value,struct,{message:message});if(result[0]){throw result[0];}}/**
 * Create a value with the coercion logic of struct and validate it.
 */function _create(value,struct,message){var result=_validate(value,struct,{coerce:true,message:message});if(result[0]){throw result[0];}else{return result[1];}}/**
 * Mask a value, returning only the subset of properties defined by a struct.
 */function _mask(value,struct,message){var result=_validate(value,struct,{coerce:true,mask:true,message:message});if(result[0]){throw result[0];}else{return result[1];}}/**
 * Check if a value passes a struct.
 */function _is(value,struct){var result=_validate(value,struct);return!result[0];}/**
 * Validate a value against a struct, returning an error if invalid, or the
 * value (with potential coercion) if valid.
 */function _validate(value,struct){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var tuples=run(value,struct,options);var tuple=shiftIterator(tuples);if(tuple[0]){var error=new StructError(tuple[0],/*#__PURE__*/_regeneratorRuntime().mark(function _callee16(){var _iterator18,_step18,_t17;return _regeneratorRuntime().wrap(function _callee16$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:_iterator18=_createForOfIteratorHelper(tuples);_context17.prev=1;_iterator18.s();case 3:if((_step18=_iterator18.n()).done){_context17.next=10;break;}_t17=_step18.value;if(!_t17[0]){_context17.next=8;break;}_context17.next=8;return _t17[0];case 8:_context17.next=3;break;case 10:_context17.next=15;break;case 12:_context17.prev=12;_context17.t0=_context17["catch"](1);_iterator18.e(_context17.t0);case 15:_context17.prev=15;_iterator18.f();return _context17.finish(15);case 18:case"end":return _context17.stop();}},_callee16,null,[[1,12,15,18]]);}));return[error,undefined];}else{var _v2=tuple[1];return[undefined,_v2];}}/**
 * Define a new struct type with a custom validation function.
 */function define(name,validator){return new Struct({type:name,schema:null,validator:validator});}/**
 * Create a struct with dynamic validation logic.
 *
 * The callback will receive the value currently being validated, and must
 * return a struct object to validate it with. This can be useful to model
 * validation logic that changes based on its input.
 */function dynamic(fn){return new Struct({type:'dynamic',schema:null,entries:/*#__PURE__*/_regeneratorRuntime().mark(function entries(value,ctx){var struct;return _regeneratorRuntime().wrap(function entries$(_context18){while(1)switch(_context18.prev=_context18.next){case 0:struct=fn(value,ctx);return _context18.delegateYield(struct.entries(value,ctx),"t0",2);case 2:case"end":return _context18.stop();}},entries);}),validator:function validator(value,ctx){var struct=fn(value,ctx);return struct.validator(value,ctx);},coercer:function coercer(value,ctx){var struct=fn(value,ctx);return struct.coercer(value,ctx);},refiner:function refiner(value,ctx){var struct=fn(value,ctx);return struct.refiner(value,ctx);}});}function array(Element){return new Struct({type:'array',schema:Element,entries:/*#__PURE__*/_regeneratorRuntime().mark(function entries(value){var _iterator19,_step19,_step19$value,_i12,_v3;return _regeneratorRuntime().wrap(function entries$(_context19){while(1)switch(_context19.prev=_context19.next){case 0:if(!(Element&&Array.isArray(value))){_context19.next=18;break;}_iterator19=_createForOfIteratorHelper(value.entries());_context19.prev=2;_iterator19.s();case 4:if((_step19=_iterator19.n()).done){_context19.next=10;break;}_step19$value=_slicedToArray(_step19.value,2),_i12=_step19$value[0],_v3=_step19$value[1];_context19.next=8;return[_i12,_v3,Element];case 8:_context19.next=4;break;case 10:_context19.next=15;break;case 12:_context19.prev=12;_context19.t0=_context19["catch"](2);_iterator19.e(_context19.t0);case 15:_context19.prev=15;_iterator19.f();return _context19.finish(15);case 18:case"end":return _context19.stop();}},entries,null,[[2,12,15,18]]);}),coercer:function coercer(value){return Array.isArray(value)?value.slice():value;},validator:function validator(value){return Array.isArray(value)||"Expected an array value, but received: ".concat(print(value));}});}/**
 * Ensure that a value is a boolean.
 */function _boolean(){return define('boolean',function(value){return typeof value==='boolean';});}function enums(values){var schema={};var description=values.map(function(v){return print(v);}).join();var _iterator20=_createForOfIteratorHelper(values),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var key=_step20.value;schema[key]=key;}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}return new Struct({type:'enums',schema:schema,validator:function validator(value){return values.includes(value)||"Expected one of `".concat(description,"`, but received: ").concat(print(value));}});}function literal(constant){var description=print(constant);var t=_typeof(constant);return new Struct({type:'literal',schema:t==='string'||t==='number'||t==='boolean'?constant:null,validator:function validator(value){return value===constant||"Expected the literal `".concat(description,"`, but received: ").concat(print(value));}});}/**
 * Ensure that no value ever passes validation.
 */function never(){return define('never',function(){return false;});}function object(schema){var knowns=schema?Object.keys(schema):[];var Never=never();return new Struct({type:'object',schema:schema?schema:null,entries:/*#__PURE__*/_regeneratorRuntime().mark(function entries(value){var unknowns,_iterator21,_step21,key,_iterator22,_step22,_key3;return _regeneratorRuntime().wrap(function entries$(_context20){while(1)switch(_context20.prev=_context20.next){case 0:if(!(schema&&isObject(value))){_context20.next=37;break;}unknowns=new Set(Object.keys(value));_iterator21=_createForOfIteratorHelper(knowns);_context20.prev=3;_iterator21.s();case 5:if((_step21=_iterator21.n()).done){_context20.next=12;break;}key=_step21.value;unknowns["delete"](key);_context20.next=10;return[key,value[key],schema[key]];case 10:_context20.next=5;break;case 12:_context20.next=17;break;case 14:_context20.prev=14;_context20.t0=_context20["catch"](3);_iterator21.e(_context20.t0);case 17:_context20.prev=17;_iterator21.f();return _context20.finish(17);case 20:_iterator22=_createForOfIteratorHelper(unknowns);_context20.prev=21;_iterator22.s();case 23:if((_step22=_iterator22.n()).done){_context20.next=29;break;}_key3=_step22.value;_context20.next=27;return[_key3,value[_key3],Never];case 27:_context20.next=23;break;case 29:_context20.next=34;break;case 31:_context20.prev=31;_context20.t1=_context20["catch"](21);_iterator22.e(_context20.t1);case 34:_context20.prev=34;_iterator22.f();return _context20.finish(34);case 37:case"end":return _context20.stop();}},entries,null,[[3,14,17,20],[21,31,34,37]]);}),validator:function validator(value){return isNonArrayObject(value)||"Expected an object, but received: ".concat(print(value));},coercer:function coercer(value,ctx){if(!isNonArrayObject(value)){return value;}var coerced=_objectSpread({},value);// The `object` struct has special behaviour enabled by the mask flag.
// When masking, properties that are not in the schema are deleted from
// the coerced object instead of eventually failing validaiton.
if(ctx.mask&&schema){for(var key in coerced){if(schema[key]===undefined){delete coerced[key];}}}return coerced;}});}/**
 * Augment a struct to allow `undefined` values.
 */function optional(struct){return new Struct(_objectSpread(_objectSpread({},struct),{},{validator:function validator(value,ctx){return value===undefined||struct.validator(value,ctx);},refiner:function refiner(value,ctx){return value===undefined||struct.refiner(value,ctx);}}));}/**
 * Ensure that a value is a string.
 */function string(){return define('string',function(value){return typeof value==='string'||"Expected a string, but received: ".concat(print(value));});}/**
 * Ensure that a value has a set of known properties of specific types.
 *
 * Note: Unrecognized properties are allowed and untouched. This is similar to
 * how TypeScript's structural typing works.
 */function type(schema){var keys=Object.keys(schema);return new Struct({type:'type',schema:schema,entries:/*#__PURE__*/_regeneratorRuntime().mark(function entries(value){var _i13,_keys,_k6;return _regeneratorRuntime().wrap(function entries$(_context21){while(1)switch(_context21.prev=_context21.next){case 0:if(!isObject(value)){_context21.next=9;break;}_i13=0,_keys=keys;case 2:if(!(_i13<_keys.length)){_context21.next=9;break;}_k6=_keys[_i13];_context21.next=6;return[_k6,value[_k6],schema[_k6]];case 6:_i13++;_context21.next=2;break;case 9:case"end":return _context21.stop();}},entries);}),validator:function validator(value){return isNonArrayObject(value)||"Expected an object, but received: ".concat(print(value));},coercer:function coercer(value){return isNonArrayObject(value)?_objectSpread({},value):value;}});}/**
 * Ensure that a value matches one of a set of types.
 */function union(Structs){var description=Structs.map(function(s){return s.type;}).join(' | ');return new Struct({type:'union',schema:null,coercer:function coercer(value,ctx){var _iterator23=_createForOfIteratorHelper(Structs),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _S2=_step23.value;var _S2$validate=_S2.validate(value,{coerce:true,mask:ctx.mask}),_S2$validate2=_slicedToArray(_S2$validate,2),error=_S2$validate2[0],coerced=_S2$validate2[1];if(!error){return coerced;}}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}return value;},validator:function validator(value,ctx){var failures=[];var _iterator24=_createForOfIteratorHelper(Structs),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _S3=_step24.value;var _run=run(value,_S3,ctx),_run2=_toArray(_run),tuples=_run2.slice(0);var _tuples=_slicedToArray(tuples,1),first=_tuples[0];if(!first[0]){return[];}else{var _iterator25=_createForOfIteratorHelper(tuples),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _step25$value=_slicedToArray(_step25.value,1),failure=_step25$value[0];if(failure){failures.push(failure);}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}}}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return["Expected the value to satisfy a union of `".concat(description,"`, but received: ").concat(print(value))].concat(failures);}});}var COVER_SUPPORT_OPEN_TILT=16;var COVER_SUPPORT_CLOSE_TILT=32;var COVER_SUPPORT_STOP_TILT=64;var UNAVAILABLE="unavailable";var UNKNOWN="unknown";var OFF="off";var OFF_STATES=[UNAVAILABLE,UNKNOWN,OFF];function isActive(stateObj){var domain=computeDomain(stateObj.entity_id);var state=stateObj.state;if(["button","input_button","scene"].includes(domain)){return state!==UNAVAILABLE;}if(OFF_STATES.includes(state)){return false;}// Custom cases
switch(domain){case"cover":case"valve":return!["closed","closing"].includes(state);case"device_tracker":case"person":return state!=="not_home";case"media_player":return state!=="standby";case"vacuum":return!["idle","docked","paused"].includes(state);case"plant":return state==="problem";default:return true;}}function isAvailable(stateObj){return stateObj.state!==UNAVAILABLE;}var modesSupportingColor=["hs"/* LightColorMode.HS */,"xy"/* LightColorMode.XY */,"rgb"/* LightColorMode.RGB */,"rgbw"/* LightColorMode.RGBW */,"rgbww"/* LightColorMode.RGBWW */];var modesSupportingBrightness=[].concat(modesSupportingColor,["color_temp"/* LightColorMode.COLOR_TEMP */,"brightness"/* LightColorMode.BRIGHTNESS */,"white"/* LightColorMode.WHITE */]);var lightSupportsColorMode=function lightSupportsColorMode(entity,mode){var _a;return((_a=entity.attributes.supported_color_modes)===null||_a===void 0?void 0:_a.includes(mode))||false;};var lightSupportsBrightness=function lightSupportsBrightness(entity){var _a;return((_a=entity.attributes.supported_color_modes)===null||_a===void 0?void 0:_a.some(function(mode){return modesSupportingBrightness.includes(mode);}))||false;};var actionConfigStructUser=object({user:string()});var actionConfigStructConfirmation=union([_boolean(),object({text:optional(string()),excemptions:optional(array(actionConfigStructUser))})]);var actionConfigStructUrl=object({action:literal("url"),url_path:string(),confirmation:optional(actionConfigStructConfirmation)});var actionConfigStructService=object({action:enums(["call-service","perform-action"]),service:optional(string()),perform_action:optional(string()),service_data:optional(object()),data:optional(object()),target:optional(object({entity_id:optional(union([string(),array(string())])),device_id:optional(union([string(),array(string())])),area_id:optional(union([string(),array(string())])),floor_id:optional(union([string(),array(string())])),label_id:optional(union([string(),array(string())]))})),confirmation:optional(actionConfigStructConfirmation)});var actionConfigStructNavigate=object({action:literal("navigate"),navigation_path:string(),confirmation:optional(actionConfigStructConfirmation)});var actionConfigStructAssist=type({action:literal("assist"),pipeline_id:optional(string()),start_listening:optional(_boolean())});var actionConfigStructCustom=type({action:literal("fire-dom-event")});var actionConfigStructType=object({action:enums(["none","toggle","more-info","call-service","perform-action","url","navigate","assist"]),confirmation:optional(actionConfigStructConfirmation)});dynamic(function(value){if(value&&_typeof(value)==="object"&&"action"in value){switch(value.action){case"call-service":{return actionConfigStructService;}case"perform-action":{return actionConfigStructService;}case"fire-dom-event":{return actionConfigStructCustom;}case"navigate":{return actionConfigStructNavigate;}case"url":{return actionConfigStructUrl;}case"assist":{return actionConfigStructAssist;}}}return actionConfigStructType;});i$3(_templateObject37||(_templateObject37=_taggedTemplateLiteral(["\n  #sortable a:nth-of-type(2n) paper-icon-item {\n    animation-name: keyframes1;\n    animation-iteration-count: infinite;\n    transform-origin: 50% 10%;\n    animation-delay: -0.75s;\n    animation-duration: 0.25s;\n  }\n\n  #sortable a:nth-of-type(2n-1) paper-icon-item {\n    animation-name: keyframes2;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n    transform-origin: 30% 5%;\n    animation-delay: -0.5s;\n    animation-duration: 0.33s;\n  }\n\n  #sortable a {\n    height: 48px;\n    display: flex;\n  }\n\n  #sortable {\n    outline: none;\n    display: block !important;\n  }\n\n  .hidden-panel {\n    display: flex !important;\n  }\n\n  .sortable-fallback {\n    display: none;\n  }\n\n  .sortable-ghost {\n    opacity: 0.4;\n  }\n\n  .sortable-fallback {\n    opacity: 0;\n  }\n\n  @keyframes keyframes1 {\n    0% {\n      transform: rotate(-1deg);\n      animation-timing-function: ease-in;\n    }\n\n    50% {\n      transform: rotate(1.5deg);\n      animation-timing-function: ease-out;\n    }\n  }\n\n  @keyframes keyframes2 {\n    0% {\n      transform: rotate(1deg);\n      animation-timing-function: ease-in;\n    }\n\n    50% {\n      transform: rotate(-1.5deg);\n      animation-timing-function: ease-out;\n    }\n  }\n\n  .show-panel,\n  .hide-panel {\n    display: none;\n    position: absolute;\n    top: 0;\n    right: 4px;\n    --mdc-icon-button-size: 40px;\n  }\n\n  :host([rtl]) .show-panel {\n    right: initial;\n    left: 4px;\n  }\n\n  .hide-panel {\n    top: 4px;\n    right: 8px;\n  }\n\n  :host([rtl]) .hide-panel {\n    right: initial;\n    left: 8px;\n  }\n\n  :host([expanded]) .hide-panel {\n    display: block;\n  }\n\n  :host([expanded]) .show-panel {\n    display: inline-flex;\n  }\n\n  paper-icon-item.hidden-panel,\n  paper-icon-item.hidden-panel span,\n  paper-icon-item.hidden-panel ha-icon[slot=\"item-icon\"] {\n    color: var(--secondary-text-color);\n    cursor: pointer;\n  }\n"])));var verticalListStyles=i$3(_templateObject38||(_templateObject38=_taggedTemplateLiteral(["\n  .vertical-list {\n    display: flex;\n    flex-direction: column;\n    gap: 40px;\n  }\n\n  .vertical-list__item {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n"])));var LightCardColorTempControls=/*#__PURE__*/function(_r$14){function LightCardColorTempControls(){var _this30;_classCallCheck(this,LightCardColorTempControls);_this30=_callSuper(this,LightCardColorTempControls,arguments);_this30.icon="mdi:lightbulb";return _this30;}_inherits(LightCardColorTempControls,_r$14);return _createClass(LightCardColorTempControls,[{key:"onChange",value:function onChange(e){var value=e.detail;console.log("Brightness changed to:",e);this.hass.callService("light","turn_on",{entity_id:this.entity.entity_id,brightness_pct:value/255*100});}},{key:"colorTemperature",value:function colorTemperature(kelvin){this.hass.callService("light","turn_on",{entity_id:this.entity.entity_id,color_temp_kelvin:kelvin});}},{key:"render",value:function render(){var _this31=this;var customLocalize=setupCustomlocalize(this.hass);var brightness=this.entity.attributes.brightness||0;return x(_templateObject39||(_templateObject39=_taggedTemplateLiteral(["\n      <div class=\"vertical-list\">\n        <div class=\"vertical-list__item\">\n            <div class=\"light-color-temp-controls__label\">","</div>\n            <div class=\"light-color-temp-controls__value\">\n            <hub-slider-input\n                class=\"light-color-temp-control\"\n                .value=","\n                .disabled=","\n                .inactive=","\n                .min=","\n                .max=","\n                @drag-end=","\n                .size=","\n            />\n            </div>\n        </div>\n        <div class=\"vertical-list__item\">\n            <div class=\"light-color-temp-controls__label\">","</div>\n            <div class=\"light-color-temp-controls__value\">\n            <button class=\"round-button\" style=\"color: #C1DFF7\" @click=",">\n                <ha-state-icon .icon=\"","\"></ha-state-icon>\n            </button>\n            <button class=\"round-button\" style=\"color: #E4F2FD\" @click=",">\n                <ha-state-icon .icon=\"","\"></ha-state-icon>\n            </button>\n            <button class=\"round-button\" style=\"color: #FAF4C2\" @click=",">\n                <ha-state-icon .icon=\"","\"></ha-state-icon>\n            </button>\n            <button class=\"round-button\" style=\"color: #FBE59C\" @click=",">\n                <ha-state-icon .icon=\"","\"></ha-state-icon>\n            </button>\n            <button class=\"round-button\" style=\"color: #F5B549\" @click=",">\n                <ha-state-icon .icon=\"","\"></ha-state-icon>\n            </button>\n            </div>\n        </div>\n      </div>\n    "])),customLocalize("hub.card.light.brightness"),brightness,!isAvailable(this.entity),!isActive(this.entity),0,255,this.onChange,350,customLocalize("hub.card.light.color_temp"),function(){return _this31.colorTemperature(6000);},this.icon,function(){return _this31.colorTemperature(5000);},this.icon,function(){return _this31.colorTemperature(4000);},this.icon,function(){return _this31.colorTemperature(3300);},this.icon,function(){return _this31.colorTemperature(2700);},this.icon);}}],[{key:"styles",get:function get(){return[roundButtonStyles,verticalListStyles,i$3(_templateObject40||(_templateObject40=_taggedTemplateLiteral([""])))];}}]);}(r$2);__decorate([n({attribute:false})],LightCardColorTempControls.prototype,"hass",void 0);__decorate([n({attribute:false})],LightCardColorTempControls.prototype,"entity",void 0);__decorate([n({type:String})],LightCardColorTempControls.prototype,"icon",void 0);LightCardColorTempControls=__decorate([t("".concat(PREFIX_NAME,"-light-card-color-temp-controls"))],LightCardColorTempControls);var HubBaseCard=/*#__PURE__*/function(_r$15){function HubBaseCard(){_classCallCheck(this,HubBaseCard);return _callSuper(this,HubBaseCard,arguments);}_inherits(HubBaseCard,_r$15);return _createClass(HubBaseCard,[{key:"getCardSize",value:function getCardSize(){return 1;}},{key:"setConfig",value:function setConfig(config){if(!config.entity){throw new Error("Entity must be specified");}this.config=config;}},{key:"entity",get:function get(){if(!this.config||!this.hass||!this.config.entity)return undefined;var entityId=this.config.entity;return this.hass.states[entityId];}}]);}(r$2);__decorate([n({attribute:false})],HubBaseCard.prototype,"hass",void 0);__decorate([n({type:Object})],HubBaseCard.prototype,"config",void 0);var HubLightCard=/*#__PURE__*/function(_HubBaseCard){function HubLightCard(){var _this32;_classCallCheck(this,HubLightCard);_this32=_callSuper(this,HubLightCard,arguments);_this32.supportsBrightness=false;_this32.supportsColorTemp=false;_this32.brightness=0;_this32.colorTempKelvin=0;return _this32;}_inherits(HubLightCard,_HubBaseCard);return _createClass(HubLightCard,[{key:"_brightnessPercentage",get:function get(){return this.brightness/255*100;}},{key:"initComponent",value:function initComponent(){if(this.entity&&this.baseActionCardRef){this.supportsBrightness=lightSupportsBrightness(this.entity);this.supportsColorTemp=lightSupportsColorMode(this.entity,"color_temp"/* LightColorMode.COLOR_TEMP */);this.brightness=this.entity.attributes.brightness||0;this.colorTempKelvin=this.entity.attributes.color_temp_kelvin||0;}}},{key:"connectedCallback",value:function connectedCallback(){_superPropGet(HubLightCard,"connectedCallback",this,3)([]);this.initComponent();}},{key:"firstUpdated",value:function firstUpdated(){this.initComponent();}},{key:"updated",value:function updated(changed){var _a,_b,_c,_d;if(changed.has("hass")){this.brightness=((_b=(_a=this.entity)===null||_a===void 0?void 0:_a.attributes)===null||_b===void 0?void 0:_b.brightness)||0;this.colorTempKelvin=((_d=(_c=this.entity)===null||_c===void 0?void 0:_c.attributes)===null||_d===void 0?void 0:_d.color_temp_kelvin)||0;}}},{key:"handleDimmableClick",value:function handleDimmableClick(){if(this.supportsColorTemp){this.openModal();}else{this.handleClick();}}},{key:"handleCardClick",value:function handleCardClick(){if(!this.supportsBrightness)this.handleClick();}},{key:"handleClick",value:function handleClick(){var state=this.hass.states[this.config.entity];var domain=this.config.entity.split(".")[0];this.hass.callService(domain,state.state==="on"?"turn_off":"turn_on",{entity_id:this.config.entity});}},{key:"handleProgressOverlayChange",value:function handleProgressOverlayChange(event){if(event.detail!==null){this.updateBrightness(event.detail);}}},{key:"updateBrightness",value:function updateBrightness(value){var domain=this.config.entity.split(".")[0];this.hass.callService(domain,"turn_on",{entity_id:this.config.entity,brightness_pct:value});}},{key:"openModal",value:function openModal(){var _a;(_a=this.modalRef)===null||_a===void 0?void 0:_a.showModal();}},{key:"render",value:function render(){var _a,_b,_c;if(!this.hass||!this.config){return x(_templateObject41||(_templateObject41=_taggedTemplateLiteral([""])));}var name=this.config.name||((_a=this.entity)===null||_a===void 0?void 0:_a.attributes.friendly_name)||this.config.entity;var icon=this.config.icon||"mdi:lightbulb";var isOn=((_b=this.entity)===null||_b===void 0?void 0:_b.state)==="on";return x(_templateObject42||(_templateObject42=_taggedTemplateLiteral(["\n      <hub-base-action-card\n        class=\"light-card\"\n        @click=\"","\"\n        .active=","\n        .icon=","\n        .label=","\n        .subline=","\n        .chevron=","\n      >\n        ","\n        ","\n      </hub-base-action-card>\n\n      <hub-modal .title=",">\n        ","\n      </hub-modal>\n    "])),this.handleCardClick,isOn,icon,name,isOn?"An":"Aus",this.supportsColorTemp,((_c=this.config)===null||_c===void 0?void 0:_c.quick_action)?x(_templateObject43||(_templateObject43=_taggedTemplateLiteral([" <hub-toggle-switch slot=\"action\" .model=\"","\" @change=\"","\" size=\"large\" /> "])),isOn,this.handleClick):"",this.supportsBrightness?x(_templateObject44||(_templateObject44=_taggedTemplateLiteral([" \n            <hub-progress-overlay \n              slot=\"overlay\" \n              .progress=\"","\" \n              @update=\"","\" \n              @click=\"","\"\n            /> "])),this._brightnessPercentage,this.handleProgressOverlayChange,this.handleDimmableClick):"",name,this.supportsColorTemp?x(_templateObject45||(_templateObject45=_taggedTemplateLiteral(["\n              <hub-light-card-color-temp-controls\n                .entity=","\n                .hass=","\n                .icon=","\n              />\n            "])),this.entity,this.hass,icon):"");}},{key:"disconnectedCallback",value:function disconnectedCallback(){_superPropGet(HubLightCard,"disconnectedCallback",this,3)([]);}}]);}(HubBaseCard);HubLightCard.styles=i$3(_templateObject46||(_templateObject46=_taggedTemplateLiteral(["\n    .light-card {\n      --base-action-card-active-background: #ffd300;\n      --base-action-card-active-color: #17161c;\n    }\n  "])));__decorate([e("hub-base-action-card")],HubLightCard.prototype,"baseActionCardRef",void 0);__decorate([e("hub-modal")],HubLightCard.prototype,"modalRef",void 0);__decorate([r()],HubLightCard.prototype,"supportsBrightness",void 0);__decorate([r()],HubLightCard.prototype,"supportsColorTemp",void 0);__decorate([r()],HubLightCard.prototype,"brightness",void 0);__decorate([r()],HubLightCard.prototype,"colorTempKelvin",void 0);HubLightCard=__decorate([t("".concat(PREFIX_NAME,"-light-card"))],HubLightCard);var horizontalListStyles=i$3(_templateObject47||(_templateObject47=_taggedTemplateLiteral(["\n  .horizontal-list {\n    display: flex;\n    flex-direction: row;\n    gap: 40px;\n  }\n\n  .horizontal-list__item {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n"])));var CoverCardTiltControls$1=/*#__PURE__*/function(_r$16){function CoverCardTiltControls(){_classCallCheck(this,CoverCardTiltControls);return _callSuper(this,CoverCardTiltControls,arguments);}_inherits(CoverCardTiltControls,_r$16);return _createClass(CoverCardTiltControls,[{key:"onChange",value:function onChange(e){var _a;var value=e.detail;this.hass.callService("cover",'set_cover_position',{entity_id:(_a=this.entity)===null||_a===void 0?void 0:_a.entity_id,position:100-value});}},{key:"onTiltChange",value:function onTiltChange(e){var _a;var value=e.detail;this.hass.callService("cover",'set_cover_tilt_position',{entity_id:(_a=this.entity)===null||_a===void 0?void 0:_a.entity_id,tilt_position:100-value});}},{key:"onOpen",value:function onOpen(e){e.stopPropagation();this.hass.callService("cover","open_cover",{entity_id:this.entity.entity_id});}},{key:"onClose",value:function onClose(e){e.stopPropagation();this.hass.callService("cover","close_cover",{entity_id:this.entity.entity_id});}},{key:"onStop",value:function onStop(e){e.stopPropagation();this.hass.callService("cover","stop_cover",{entity_id:this.entity.entity_id});}},{key:"render",value:function render(){var _a,_b,_c,_d;var customLocalize=setupCustomlocalize(this.hass);var currentPosition=((_b=(_a=this.entity)===null||_a===void 0?void 0:_a.attributes)===null||_b===void 0?void 0:_b.current_position)||0;var position=100-currentPosition;var currentTiltPosition=((_d=(_c=this.entity)===null||_c===void 0?void 0:_c.attributes)===null||_d===void 0?void 0:_d.current_tilt_position)||0;var tiltPosition=100-currentTiltPosition;return x(_templateObject48||(_templateObject48=_taggedTemplateLiteral(["\n      <div class=\"vertical-list\">\n        <div class=\"horizontal-list\">\n          <div class=\"horizontal-list__item\">\n              <div class=\"light-color-temp-controls__label\">","</div>\n              <div class=\"light-color-temp-controls__value\">\n                <hub-slider-input\n                    orientation=\"vertical\"\n                    class=\"light-color-temp-control\"\n                    .value=","\n                    .disabled=","\n                    .inactive=","\n                    .min=","\n                    .max=","\n                    @drag-end=","\n                    .size=","\n                />\n              </div>\n          </div>\n          <div class=\"horizontal-list__item\">\n              <div class=\"light-color-temp-controls__label\">","</div>\n              <div class=\"light-color-temp-controls__value\">\n                <hub-slider-input\n                    orientation=\"vertical\"\n                    class=\"light-color-temp-control\"\n                    .value=","\n                    .disabled=","\n                    .inactive=","\n                    .min=","\n                    .max=","\n                    @drag-end=","\n                    .size=","\n                />\n              </div>\n          </div>\n        </div>\n        <div class=\"horizontal-list\">\n          <div class=\"horozonzal-list__item\">\n            <button class=\"round-button\" @click=",">\n                <ha-state-icon icon=\"mdi:arrow-up\"></ha-state-icon>\n            </button>\n            <button class=\"round-button\" @click=",">\n                <ha-state-icon icon=\"mdi:pause\"></ha-state-icon>\n            </button>\n            <button class=\"round-button\" @click=",">\n                <ha-state-icon icon=\"mdi:arrow-down\"></ha-state-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n    "])),customLocalize("hub.card.cover.position"),position,!isAvailable(this.entity),!isActive(this.entity),0,100,this.onChange,200,customLocalize("hub.card.cover.tilt_position"),tiltPosition,!isAvailable(this.entity),!isActive(this.entity),0,100,this.onTiltChange,200,this.onOpen,this.onStop,this.onClose);}}],[{key:"styles",get:function get(){return[roundButtonStyles,horizontalListStyles,i$3(_templateObject49||(_templateObject49=_taggedTemplateLiteral([""])))];}}]);}(r$2);__decorate([n({attribute:false})],CoverCardTiltControls$1.prototype,"hass",void 0);__decorate([n({attribute:false})],CoverCardTiltControls$1.prototype,"entity",void 0);CoverCardTiltControls$1=__decorate([t("".concat(PREFIX_NAME,"-cover-card-tilt-controls"))],CoverCardTiltControls$1);var HubCoverCard=/*#__PURE__*/function(_HubBaseCard2){function HubCoverCard(){var _this33;_classCallCheck(this,HubCoverCard);_this33=_callSuper(this,HubCoverCard,arguments);_this33.position=0;_this33.tiltPosition=0;return _this33;}_inherits(HubCoverCard,_HubBaseCard2);return _createClass(HubCoverCard,[{key:"initComponent",value:function initComponent(){var _a,_b,_c,_d;if(this.entity&&this.baseActionCardRef){this.position=100-((_b=(_a=this.entity)===null||_a===void 0?void 0:_a.attributes)===null||_b===void 0?void 0:_b.current_position)||0;this.tiltPosition=((_d=(_c=this.entity)===null||_c===void 0?void 0:_c.attributes)===null||_d===void 0?void 0:_d.current_tilt_position)||0;}}},{key:"supportsTilt",get:function get(){if(!this.entity)return false;return supportsFeature(this.entity,COVER_SUPPORT_OPEN_TILT)||supportsFeature(this.entity,COVER_SUPPORT_CLOSE_TILT)||supportsFeature(this.entity,COVER_SUPPORT_STOP_TILT);}},{key:"connectedCallback",value:function connectedCallback(){_superPropGet(HubCoverCard,"connectedCallback",this,3)([]);this.initComponent();}},{key:"firstUpdated",value:function firstUpdated(){this.initComponent();}},{key:"updated",value:function updated(changed){var _a,_b,_c,_d;if(changed.has("hass")){var currentPosition=((_b=(_a=this.entity)===null||_a===void 0?void 0:_a.attributes)===null||_b===void 0?void 0:_b.current_position)||0;this.position=100-currentPosition;this.tiltPosition=((_d=(_c=this.entity)===null||_c===void 0?void 0:_c.attributes)===null||_d===void 0?void 0:_d.current_tilt_position)||0;}}},{key:"handleProgressOverlayChange",value:function handleProgressOverlayChange(event){if(event.detail!==null){this.updatePosition(100-event.detail);}}},{key:"updatePosition",value:function updatePosition(value){var _a;var domain=this.config.entity.split('.')[0];this.hass.callService(domain,'set_cover_position',{entity_id:(_a=this.entity)===null||_a===void 0?void 0:_a.entity_id,position:value});}},{key:"handleDimmableClick",value:function handleDimmableClick(){if(this.supportsTilt){this.openModal();}}},{key:"openModal",value:function openModal(){var _a;(_a=this.modalRef)===null||_a===void 0?void 0:_a.showModal();}},{key:"render",value:function render(){var _a,_b;if(!this.hass||!this.config){return x(_templateObject50||(_templateObject50=_taggedTemplateLiteral([""])));}var name=this.config.name||((_a=this.entity)===null||_a===void 0?void 0:_a.attributes.friendly_name)||this.config.entity;var icon=this.config.icon||"mdi:mdi:roller-shade";var minPosition=((_b=this.config)===null||_b===void 0?void 0:_b.min_position)||5;var isClose=this.position>minPosition;return x(_templateObject51||(_templateObject51=_taggedTemplateLiteral(["\n      <hub-base-action-card\n        class=\"cover-card\"\n        .active=","\n        .icon=","\n        .label=","\n        .subline=","\n        .chevron=","\n      >\n        <hub-progress-overlay \n          slot=\"overlay\" \n          .progress=\"","\" \n          @update=\"","\" \n          @click=\"","\"\n          .reverse=","\n          .min=","\n          .showStipes=\"","\"\n          .tiltProgress=\"","\"\n        /> \n      </hub-base-action-card>\n\n      <hub-modal .title=",">\n        ","\n      </hub-modal>\n    "])),isClose,icon,name,isClose?"Geschlossen - ".concat(this.position,"%"):"Offen",this.supportsTilt,this.position,this.handleProgressOverlayChange,this.handleDimmableClick,true,minPosition,this.supportsTilt,this.tiltPosition,name,this.supportsTilt?x(_templateObject52||(_templateObject52=_taggedTemplateLiteral([" \n            <hub-cover-card-tilt-controls \n              .entity=","\n              .hass=","\n              .icon=","\n            /> "])),this.entity,this.hass,icon):"");}},{key:"disconnectedCallback",value:function disconnectedCallback(){_superPropGet(HubCoverCard,"disconnectedCallback",this,3)([]);}}]);}(HubBaseCard);HubCoverCard.styles=i$3(_templateObject53||(_templateObject53=_taggedTemplateLiteral(["\n    .cover-card {\n      --base-action-card-active-background: #85B639;\n      --base-action-card-active-color: #17161c;\n    }\n  "])));__decorate([e("hub-base-action-card")],HubCoverCard.prototype,"baseActionCardRef",void 0);__decorate([e("hub-modal")],HubCoverCard.prototype,"modalRef",void 0);__decorate([r()],HubCoverCard.prototype,"position",void 0);__decorate([r()],HubCoverCard.prototype,"tiltPosition",void 0);HubCoverCard=__decorate([t("".concat(PREFIX_NAME,"-cover-card"))],HubCoverCard);var HubSwitchCard=/*#__PURE__*/function(_HubBaseCard3){function HubSwitchCard(){_classCallCheck(this,HubSwitchCard);return _callSuper(this,HubSwitchCard,arguments);}_inherits(HubSwitchCard,_HubBaseCard3);return _createClass(HubSwitchCard,[{key:"updated",value:function updated(changed){if(changed.has("hass")){console.log(changed,this.entity);}}},{key:"handleClick",value:function handleClick(){var state=this.hass.states[this.config.entity];var domain=this.config.entity.split(".")[0];this.hass.callService(domain,state.state==="on"?"turn_off":"turn_on",{entity_id:this.config.entity});}},{key:"render",value:function render(){var _a,_b;if(!this.hass||!this.config){return x(_templateObject54||(_templateObject54=_taggedTemplateLiteral([""])));}var customLocalize=setupCustomlocalize(this.hass);var name=this.config.name||((_a=this.entity)===null||_a===void 0?void 0:_a.attributes.friendly_name)||this.config.entity;var textOn=this.config.textOn||customLocalize('hub.on');var textOff=this.config.textOn||customLocalize('hub.off');var icon=this.config.icon||"mdi:toggle-switch";var isOn=((_b=this.entity)===null||_b===void 0?void 0:_b.state)==="on";return x(_templateObject55||(_templateObject55=_taggedTemplateLiteral(["\n      <hub-base-action-card\n        class=\"switch-card\"\n        @click=\"","\"\n        .active=","\n        .icon=","\n        .label=","\n        .subline=","\n      >\n      </hub-base-action-card>\n    "])),this.handleClick,isOn,icon,name,isOn?textOn:textOff);}},{key:"disconnectedCallback",value:function disconnectedCallback(){_superPropGet(HubSwitchCard,"disconnectedCallback",this,3)([]);}}]);}(HubBaseCard);HubSwitchCard.styles=i$3(_templateObject56||(_templateObject56=_taggedTemplateLiteral(["\n    .switch-card {\n      --base-action-card-active-background: #ffd300;\n      --base-action-card-active-color: #17161c;\n    }\n  "])));HubSwitchCard=__decorate([t("".concat(PREFIX_NAME,"-switch-card"))],HubSwitchCard);var CoverCardTiltControls=/*#__PURE__*/function(_r$17){function CoverCardTiltControls(){_classCallCheck(this,CoverCardTiltControls);return _callSuper(this,CoverCardTiltControls,arguments);}_inherits(CoverCardTiltControls,_r$17);return _createClass(CoverCardTiltControls,[{key:"render",value:function render(){setupCustomlocalize(this.hass);return x(_templateObject57||(_templateObject57=_taggedTemplateLiteral(["\n      <div class=\"vertical-list\">\n        <div class=\"horizontal-list\">\n          \n        </div>\n        <div class=\"horizontal-list\">\n          <div class=\"horozonzal-list__item\">\n            \n          </div>\n        </div>\n      </div>\n    "])));}}],[{key:"styles",get:function get(){return[roundButtonStyles,horizontalListStyles,i$3(_templateObject58||(_templateObject58=_taggedTemplateLiteral([""])))];}}]);}(r$2);__decorate([n({attribute:false})],CoverCardTiltControls.prototype,"hass",void 0);__decorate([n({attribute:false})],CoverCardTiltControls.prototype,"entity",void 0);CoverCardTiltControls=__decorate([t("".concat(PREFIX_NAME,"-climate-card-controls"))],CoverCardTiltControls);var SLIDER_MODES={auto:"full",cool:"end",dry:"full",fan_only:"full",heat:"start",heat_cool:"full",off:"full"};var UNIT_F="F";var HubClimateCard=/*#__PURE__*/function(_HubBaseCard4){function HubClimateCard(){var _this34;_classCallCheck(this,HubClimateCard);_this34=_callSuper(this,HubClimateCard,arguments);_this34.currentTemperature=0;return _this34;}_inherits(HubClimateCard,_HubBaseCard4);return _createClass(HubClimateCard,[{key:"updated",value:function updated(changed){var _a,_b;if(changed.has("hass")){console.log(this.entity);this.currentTemperature=((_b=(_a=this.entity)===null||_a===void 0?void 0:_a.attributes)===null||_b===void 0?void 0:_b.current_temperature)||0;}}},{key:"openModal",value:function openModal(){var _a;(_a=this.modalRef)===null||_a===void 0?void 0:_a.showModal();}},{key:"render",value:function render(){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p,_q;if(!this.hass||!this.config){return x(_templateObject59||(_templateObject59=_taggedTemplateLiteral([""])));}var heatCoolModes=((_c=(_b=(_a=this.entity)===null||_a===void 0?void 0:_a.attributes)===null||_b===void 0?void 0:_b.hvac_modes)===null||_c===void 0?void 0:_c.filter(function(m){return["heat","cool","heat_cool"].includes(m);}))||[];var mode=((_d=this.entity)===null||_d===void 0?void 0:_d.state)||'';var sliderMode=SLIDER_MODES[heatCoolModes.length===1&&["off","auto"].includes(mode)?heatCoolModes[0]:mode];var step=((_f=(_e=this.entity)===null||_e===void 0?void 0:_e.attributes)===null||_f===void 0?void 0:_f.target_temp_step)||(this.hass.config.unit_system.temperature===UNIT_F?1:0.5);(_h=(_g=this.entity)===null||_g===void 0?void 0:_g.attributes)===null||_h===void 0?void 0:_h.hvac_action;var name=this.config.name||((_j=this.entity)===null||_j===void 0?void 0:_j.attributes.friendly_name)||this.config.entity;var icon=this.config.icon||"mdi:thermometer";var targetTemperature=((_l=(_k=this.entity)===null||_k===void 0?void 0:_k.attributes)===null||_l===void 0?void 0:_l.temperature)||0;var minTemperature=((_o=(_m=this.entity)===null||_m===void 0?void 0:_m.attributes)===null||_o===void 0?void 0:_o.min_temp)||0;var maxTemperature=((_q=(_p=this.entity)===null||_p===void 0?void 0:_p.attributes)===null||_q===void 0?void 0:_q.max_temp)||0;return x(_templateObject60||(_templateObject60=_taggedTemplateLiteral(["\n      <hub-base-action-card\n        class=\"climate-card\"\n        .active=","\n        .icon=","\n        .label=","\n        .subline=","\n        .chevron=","\n      >\n        <ha-control-circular-slider\n          .preventInteractionOnScroll=","\n          .mode=","\n          .value=","\n          .min=","\n          .max=","\n          .step=","\n          .current=","\n        >\n        </ha-control-circular-slider>\n      </hub-base-action-card>\n\n      <hub-modal .title=",">\n        <hub-climate-card-controls \n          .entity=","\n          .hass=","\n          .icon=","\n        />\n      </hub-modal>\n    "])),true,icon,this.currentTemperature,name,true,true,sliderMode,targetTemperature,minTemperature,maxTemperature,step,this.currentTemperature,name,this.entity,this.hass,icon);}},{key:"disconnectedCallback",value:function disconnectedCallback(){_superPropGet(HubClimateCard,"disconnectedCallback",this,3)([]);}}]);}(HubBaseCard);HubClimateCard.styles=i$3(_templateObject61||(_templateObject61=_taggedTemplateLiteral(["\n    .climate-card {\n      --base-action-card-active-background: #2D8EFF;\n      --base-action-card-active-color: #17161c;\n    }\n\n    ha-control-circular-slider {\n      position: absolute;\n      inset: 10%;\n      width: 80%;\n      height: 80%;\n    }\n  "])));__decorate([e("hub-base-action-card")],HubClimateCard.prototype,"baseActionCardRef",void 0);__decorate([e("hub-modal")],HubClimateCard.prototype,"modalRef",void 0);__decorate([r()],HubClimateCard.prototype,"currentTemperature",void 0);HubClimateCard=__decorate([t("".concat(PREFIX_NAME,"-climate-card"))],HubClimateCard);console.info("%c Hub Dashboard - ".concat(version),"color:rgb(0, 99, 198); font-weight: 700;");
